{"id":"KC23","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1606037244039},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1606037244035},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606037425866},{"name":"../../../nls.js","loc":{"line":27,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/browser/dom.js","loc":{"line":28,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/ui/actionbar/actionbar.js","loc":{"line":29,"column":42},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/actionbar/actionbar.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":30,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../browser/editorExtensions.js","loc":{"line":31,"column":79},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../common/editorContextKeys.js","loc":{"line":32,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js"},{"name":"../../../platform/actions/common/actions.js","loc":{"line":33,"column":48},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/actions/common/actions.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":34,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"},{"name":"../../../platform/contextview/browser/contextView.js","loc":{"line":35,"column":57},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js"},{"name":"../../../platform/keybinding/common/keybinding.js","loc":{"line":36,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/keybinding/common/keybinding.js"},{"name":"../../../base/browser/contextmenu.js","loc":{"line":37,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/contextmenu.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/contextmenu.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ContextMenuController=void 0;var t=d(require(\"../../../nls.js\")),e=d(require(\"../../../base/browser/dom.js\")),o=require(\"../../../base/browser/ui/actionbar/actionbar.js\"),n=require(\"../../../base/common/lifecycle.js\"),i=require(\"../../browser/editorExtensions.js\"),r=require(\"../../common/editorContextKeys.js\"),s=require(\"../../../platform/actions/common/actions.js\"),u=require(\"../../../platform/contextkey/common/contextkey.js\"),c=require(\"../../../platform/contextview/browser/contextView.js\"),a=require(\"../../../platform/keybinding/common/keybinding.js\"),p=require(\"../../../base/browser/contextmenu.js\");function h(){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function d(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=n?Object.getOwnPropertyDescriptor(t,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=t[i]}return o.default=t,e&&e.set(t,o),o}var f=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},g=function(t,e){return function(o,n){e(o,n,t)}},_=function(){function t(t,e,o,i,r,s){var u=this;this._contextMenuService=e,this._contextViewService=o,this._contextKeyService=i,this._keybindingService=r,this._menuService=s,this._toDispose=new n.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=t,this._toDispose.add(this._editor.onContextMenu(function(t){return u._onContextMenu(t)})),this._toDispose.add(this._editor.onMouseWheel(function(t){u._contextMenuIsBeingShownCount>0&&u._contextViewService.hideContextView()})),this._toDispose.add(this._editor.onKeyDown(function(t){58===t.keyCode&&(t.preventDefault(),t.stopPropagation(),u.showContextMenu())}))}return t.get=function(e){return e.getContribution(t.ID)},t.prototype._onContextMenu=function(t){if(this._editor.hasModel()){if(!this._editor.getOption(13))return this._editor.focus(),void(t.target.position&&!this._editor.getSelection().containsPosition(t.target.position)&&this._editor.setPosition(t.target.position));if(12!==t.target.type&&(t.event.preventDefault(),6===t.target.type||7===t.target.type||1===t.target.type)){if(this._editor.focus(),t.target.position){for(var e=!1,o=0,n=this._editor.getSelections();o<n.length;o++){if(n[o].containsPosition(t.target.position)){e=!0;break}}e||this._editor.setPosition(t.target.position)}var i=null;1!==t.target.type&&(i={x:t.event.posx-1,width:2,y:t.event.posy-1,height:2}),this.showContextMenu(i)}}},t.prototype.showContextMenu=function(t){if(this._editor.getOption(13)&&this._editor.hasModel())if(this._contextMenuService){var e=this._getMenuActions(this._editor.getModel(),7);e.length>0&&this._doShowContextMenu(e,t)}else this._editor.focus()},t.prototype._getMenuActions=function(t,e){var n=[],i=this._menuService.createMenu(e,this._contextKeyService),r=i.getActions({arg:t.uri});i.dispose();for(var u=0,c=r;u<c.length;u++){for(var a=0,h=0,d=c[u][1];h<d.length;h++){var f=d[h];if(f instanceof s.SubmenuItemAction){var l=this._getMenuActions(t,f.item.submenu);l.length>0&&(n.push(new p.ContextSubMenu(f.label,l)),a++)}else n.push(f),a++}a&&n.push(new o.Separator)}return n.length&&n.pop(),n},t.prototype._doShowContextMenu=function(t,n){var i=this;if(void 0===n&&(n=null),this._editor.hasModel()){var r=this._editor.getOption(42);if(this._editor.updateOptions({hover:{enabled:!1}}),!n){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var s=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=e.getDomNodePagePosition(this._editor.getDomNode()),c=u.left+s.left,a=u.top+s.top+s.height;n={x:c,y:a}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return n},getActions:function(){return t},getActionViewItem:function(t){var e=i._keybindingFor(t);if(e)return new o.ActionViewItem(t,t,{label:!0,keybinding:e.getLabel(),isMenu:!0});var n=t;return\"function\"==typeof n.getActionViewItem?n.getActionViewItem():new o.ActionViewItem(t,t,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(t){return i._keybindingFor(t)},onHide:function(t){i._contextMenuIsBeingShownCount--,i._editor.focus(),i._editor.updateOptions({hover:r})}})}},t.prototype._keybindingFor=function(t){return this._keybindingService.lookupKeybinding(t.id)},t.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},t.ID=\"editor.contrib.contextmenu\",t=l([g(1,c.IContextMenuService),g(2,c.IContextViewService),g(3,u.IContextKeyService),g(4,a.IKeybindingService),g(5,s.IMenuService)],t)}();exports.ContextMenuController=_;var y=function(e){function o(){return e.call(this,{id:\"editor.action.showContextMenu\",label:t.localize(\"action.showContextMenu.label\",\"Show Editor Context Menu\"),alias:\"Show Editor Context Menu\",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:1092,weight:100}})||this}return f(o,e),o.prototype.run=function(t,e){_.get(e).showContextMenu()},o}(i.EditorAction);(0,i.registerEditorContribution)(_.ID,_),(0,i.registerEditorAction)(y);"},"sourceMaps":null,"error":null,"hash":"0e5f464eae86329ef4577579ed2eb49c","cacheData":{"env":{}}}