{"id":"mLHf","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999876337},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999876333},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606000047237},{"name":"./colorPicker.css","loc":{"line":18,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPicker.css"},{"name":"../../../base/browser/browser.js","loc":{"line":19,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/browser.js"},{"name":"../../../base/browser/dom.js","loc":{"line":20,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/globalMouseMoveMonitor.js","loc":{"line":21,"column":64},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/globalMouseMoveMonitor.js"},{"name":"../../../base/browser/ui/widget.js","loc":{"line":22,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/widget.js"},{"name":"../../../base/common/color.js","loc":{"line":23,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/color.js"},{"name":"../../../base/common/event.js","loc":{"line":24,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":25,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":26,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":27,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/colorPickerWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ColorPickerWidget=exports.ColorPickerBody=exports.ColorPickerHeader=void 0,require(\"./colorPicker.css\");var o=require(\"../../../base/browser/browser.js\"),e=h(require(\"../../../base/browser/dom.js\")),t=require(\"../../../base/browser/globalMouseMoveMonitor.js\"),r=require(\"../../../base/browser/ui/widget.js\"),i=require(\"../../../base/common/color.js\"),n=require(\"../../../base/common/event.js\"),s=require(\"../../../base/common/lifecycle.js\"),a=require(\"../../../platform/theme/common/colorRegistry.js\"),l=require(\"../../../platform/theme/common/themeService.js\");function d(){if(\"function\"!=typeof WeakMap)return null;var o=new WeakMap;return d=function(){return o},o}function h(o){if(o&&o.__esModule)return o;if(null===o||\"object\"!=typeof o&&\"function\"!=typeof o)return{default:o};var e=d();if(e&&e.has(o))return e.get(o);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in o)if(Object.prototype.hasOwnProperty.call(o,i)){var n=r?Object.getOwnPropertyDescriptor(o,i):null;n&&(n.get||n.set)?Object.defineProperty(t,i,n):t[i]=o[i]}return t.default=o,e&&e.set(o,t),t}var u=function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),p=e.$,c=function(o){function t(t,r,n){var s=o.call(this)||this;s.model=r,s.domNode=p(\".colorpicker-header\"),e.append(t,s.domNode),s.pickedColorNode=e.append(s.domNode,p(\".picked-color\"));var d=e.append(s.domNode,p(\".original-color\"));return d.style.backgroundColor=i.Color.Format.CSS.format(s.model.originalColor)||\"\",s.backgroundColor=n.getTheme().getColor(a.editorHoverBackground)||i.Color.white,s._register((0,l.registerThemingParticipant)(function(o,e){s.backgroundColor=o.getColor(a.editorHoverBackground)||i.Color.white})),s._register(e.addDisposableListener(s.pickedColorNode,e.EventType.CLICK,function(){return s.model.selectNextColorPresentation()})),s._register(e.addDisposableListener(d,e.EventType.CLICK,function(){s.model.color=s.model.originalColor,s.model.flushColor()})),s._register(r.onDidChangeColor(s.onDidChangeColor,s)),s._register(r.onDidChangePresentation(s.onDidChangePresentation,s)),s.pickedColorNode.style.backgroundColor=i.Color.Format.CSS.format(r.color)||\"\",e.toggleClass(s.pickedColorNode,\"light\",r.color.rgba.a<.5?s.backgroundColor.isLighter():r.color.isLighter()),s}return u(t,o),t.prototype.onDidChangeColor=function(o){this.pickedColorNode.style.backgroundColor=i.Color.Format.CSS.format(o)||\"\",e.toggleClass(this.pickedColorNode,\"light\",o.rgba.a<.5?this.backgroundColor.isLighter():o.isLighter()),this.onDidChangePresentation()},t.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:\"\"},t}(s.Disposable);exports.ColorPickerHeader=c;var g=function(o){function t(t,r,i){var n=o.call(this)||this;return n.model=r,n.pixelRatio=i,n.domNode=p(\".colorpicker-body\"),e.append(t,n.domNode),n.saturationBox=new C(n.domNode,n.model,n.pixelRatio),n._register(n.saturationBox),n._register(n.saturationBox.onDidChange(n.onDidSaturationValueChange,n)),n._register(n.saturationBox.onColorFlushed(n.flushColor,n)),n.opacityStrip=new m(n.domNode,n.model),n._register(n.opacityStrip),n._register(n.opacityStrip.onDidChange(n.onDidOpacityChange,n)),n._register(n.opacityStrip.onColorFlushed(n.flushColor,n)),n.hueStrip=new y(n.domNode,n.model),n._register(n.hueStrip),n._register(n.hueStrip.onDidChange(n.onDidHueChange,n)),n._register(n.hueStrip.onColorFlushed(n.flushColor,n)),n}return u(t,o),t.prototype.flushColor=function(){this.model.flushColor()},t.prototype.onDidSaturationValueChange=function(o){var e=o.s,t=o.v,r=this.model.color.hsva;this.model.color=new i.Color(new i.HSVA(r.h,e,t,r.a))},t.prototype.onDidOpacityChange=function(o){var e=this.model.color.hsva;this.model.color=new i.Color(new i.HSVA(e.h,e.s,e.v,o))},t.prototype.onDidHueChange=function(o){var e=this.model.color.hsva,t=360*(1-o);this.model.color=new i.Color(new i.HSVA(360===t?0:t,e.s,e.v,e.a))},t.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},t}(s.Disposable);exports.ColorPickerBody=g;var C=function(o){function r(t,r,i){var s=o.call(this)||this;return s.model=r,s.pixelRatio=i,s._onDidChange=new n.Emitter,s.onDidChange=s._onDidChange.event,s._onColorFlushed=new n.Emitter,s.onColorFlushed=s._onColorFlushed.event,s.domNode=p(\".saturation-wrap\"),e.append(t,s.domNode),s.canvas=document.createElement(\"canvas\"),s.canvas.className=\"saturation-box\",e.append(s.domNode,s.canvas),s.selection=p(\".saturation-selection\"),e.append(s.domNode,s.selection),s.layout(),s._register(e.addDisposableGenericMouseDownListner(s.domNode,function(o){return s.onMouseDown(o)})),s._register(s.model.onDidChangeColor(s.onDidChangeColor,s)),s.monitor=null,s}return u(r,o),r.prototype.onMouseDown=function(o){var r=this;this.monitor=this._register(new t.GlobalMouseMoveMonitor);var i=e.getDomNodePagePosition(this.domNode);o.target!==this.selection&&this.onDidChangePosition(o.offsetX,o.offsetY),this.monitor.startMonitoring(t.standardMouseMoveMerger,function(o){return r.onDidChangePosition(o.posx-i.left,o.posy-i.top)},function(){return null});var n=e.addDisposableGenericMouseUpListner(document,function(){r._onColorFlushed.fire(),n.dispose(),r.monitor&&(r.monitor.stopMonitoring(!0),r.monitor=null)},!0)},r.prototype.onDidChangePosition=function(o,e){var t=Math.max(0,Math.min(1,o/this.width)),r=Math.max(0,Math.min(1,1-e/this.height));this.paintSelection(t,r),this._onDidChange.fire({s:t,v:r})},r.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var o=this.model.color.hsva;this.paintSelection(o.s,o.v)},r.prototype.paint=function(){var o=this.model.color.hsva,e=new i.Color(new i.HSVA(o.h,1,1,1)),t=this.canvas.getContext(\"2d\"),r=t.createLinearGradient(0,0,this.canvas.width,0);r.addColorStop(0,\"rgba(255, 255, 255, 1)\"),r.addColorStop(.5,\"rgba(255, 255, 255, 0.5)\"),r.addColorStop(1,\"rgba(255, 255, 255, 0)\");var n=t.createLinearGradient(0,0,0,this.canvas.height);n.addColorStop(0,\"rgba(0, 0, 0, 0)\"),n.addColorStop(1,\"rgba(0, 0, 0, 1)\"),t.rect(0,0,this.canvas.width,this.canvas.height),t.fillStyle=i.Color.Format.CSS.format(e),t.fill(),t.fillStyle=r,t.fill(),t.fillStyle=n,t.fill()},r.prototype.paintSelection=function(o,e){this.selection.style.left=o*this.width+\"px\",this.selection.style.top=this.height-e*this.height+\"px\"},r.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},r}(s.Disposable),f=function(o){function r(t,r){var i=o.call(this)||this;return i.model=r,i._onDidChange=new n.Emitter,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new n.Emitter,i.onColorFlushed=i._onColorFlushed.event,i.domNode=e.append(t,p(\".strip\")),i.overlay=e.append(i.domNode,p(\".overlay\")),i.slider=e.append(i.domNode,p(\".slider\")),i.slider.style.top=\"0px\",i._register(e.addDisposableGenericMouseDownListner(i.domNode,function(o){return i.onMouseDown(o)})),i.layout(),i}return u(r,o),r.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var o=this.getValue(this.model.color);this.updateSliderPosition(o)},r.prototype.onMouseDown=function(o){var r=this,i=this._register(new t.GlobalMouseMoveMonitor),n=e.getDomNodePagePosition(this.domNode);e.addClass(this.domNode,\"grabbing\"),o.target!==this.slider&&this.onDidChangeTop(o.offsetY),i.startMonitoring(t.standardMouseMoveMerger,function(o){return r.onDidChangeTop(o.posy-n.top)},function(){return null});var s=e.addDisposableGenericMouseUpListner(document,function(){r._onColorFlushed.fire(),s.dispose(),i.stopMonitoring(!0),e.removeClass(r.domNode,\"grabbing\")},!0)},r.prototype.onDidChangeTop=function(o){var e=Math.max(0,Math.min(1,1-o/this.height));this.updateSliderPosition(e),this._onDidChange.fire(e)},r.prototype.updateSliderPosition=function(o){this.slider.style.top=(1-o)*this.height+\"px\"},r}(s.Disposable),m=function(o){function t(t,r){var i=o.call(this,t,r)||this;return e.addClass(i.domNode,\"opacity-strip\"),i._register(r.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}return u(t,o),t.prototype.onDidChangeColor=function(o){var e=o.rgba,t=e.r,r=e.g,n=e.b,s=new i.Color(new i.RGBA(t,r,n,1)),a=new i.Color(new i.RGBA(t,r,n,0));this.overlay.style.background=\"linear-gradient(to bottom, \"+s+\" 0%, \"+a+\" 100%)\"},t.prototype.getValue=function(o){return o.hsva.a},t}(f),y=function(o){function t(t,r){var i=o.call(this,t,r)||this;return e.addClass(i.domNode,\"hue-strip\"),i}return u(t,o),t.prototype.getValue=function(o){return 1-o.hsva.h/360},t}(f),v=function(e){function t(t,r,i,n){var s=e.call(this)||this;s.model=r,s.pixelRatio=i,s._register((0,o.onDidChangeZoomLevel)(function(){return s.layout()}));var a=p(\".colorpicker-widget\");t.appendChild(a);var l=new c(a,s.model,n);return s.body=new g(a,s.model,s.pixelRatio),s._register(l),s._register(s.body),s}return u(t,e),t.prototype.layout=function(){this.body.layout()},t}(r.Widget);exports.ColorPickerWidget=v;"},"sourceMaps":null,"error":null,"hash":"6c874f7275eed761387f70f6d6b90b68","cacheData":{"env":{}}}