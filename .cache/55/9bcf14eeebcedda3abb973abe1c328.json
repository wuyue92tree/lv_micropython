{"id":"sQ6d","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999876337},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999876333},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606000047237},{"name":"../../../base/common/async.js","loc":{"line":18,"column":54},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/event.js","loc":{"line":19,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":20,"column":46},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../common/core/range.js","loc":{"line":21,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/modes.js","loc":{"line":22,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":23,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"},{"name":"./codeAction.js","loc":{"line":24,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeAction.js"},{"name":"../../../base/common/resources.js","loc":{"line":25,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/codeAction/codeActionModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/resources.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CodeActionModel=exports.CodeActionsState=exports.SUPPORTED_CODE_ACTIONS=void 0;var e=require(\"../../../base/common/async.js\"),t=require(\"../../../base/common/event.js\"),r=require(\"../../../base/common/lifecycle.js\"),i=require(\"../../common/core/range.js\"),o=require(\"../../common/modes.js\"),n=require(\"../../../platform/contextkey/common/contextkey.js\"),s=require(\"./codeAction.js\"),a=require(\"../../../base/common/resources.js\"),c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),u=new n.RawContextKey(\"supportedCodeAction\",\"\");exports.SUPPORTED_CODE_ACTIONS=u;var g,d=function(t){function r(r,i,o,n){void 0===n&&(n=250);var s=t.call(this)||this;return s._editor=r,s._markerService=i,s._signalChange=o,s._delay=n,s._autoTriggerTimer=s._register(new e.TimeoutTimer),s._register(s._markerService.onMarkerChanged(function(e){return s._onMarkerChanges(e)})),s._register(s._editor.onDidChangeCursorPosition(function(){return s._onCursorChange()})),s}return c(r,t),r.prototype.trigger=function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)},r.prototype._onMarkerChanges=function(e){var t=this,r=this._editor.getModel();r&&e.some(function(e){return(0,a.isEqual)(e,r.uri)})&&this._autoTriggerTimer.cancelAndSet(function(){t.trigger({type:\"auto\"})},this._delay)},r.prototype._onCursorChange=function(){var e=this;this._autoTriggerTimer.cancelAndSet(function(){e.trigger({type:\"auto\"})},this._delay)},r.prototype._getRangeOfMarker=function(e){var t=this._editor.getModel();if(t)for(var r=0,o=this._markerService.read({resource:t.uri});r<o.length;r++){var n=o[r],s=t.validateRange(n);if(i.Range.intersectRanges(s,e))return i.Range.lift(s)}},r.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),r=this._editor.getSelection();if(r.isEmpty()&&\"auto\"===e.type){var i=r.getPosition(),o=i.lineNumber,n=i.column,s=t.getLineContent(o);if(0===s.length)return;if(1===n){if(/\\s/.test(s[0]))return}else if(n===t.getLineMaxColumn(o)){if(/\\s/.test(s[s.length-1]))return}else if(/\\s/.test(s[n-2])&&/\\s/.test(s[n-1]))return}return r}},r.prototype._createEventAndSignalChange=function(e,t){var r=this._editor.getModel();if(t&&r){var i=this._getRangeOfMarker(t),o=i?i.getStartPosition():t.getStartPosition(),n={trigger:e,selection:t,position:o};return this._signalChange(n),n}this._signalChange(void 0)},r}(r.Disposable);exports.CodeActionsState=g,function(e){e.Empty={type:0};var t=function(){return function(e,t,r,i){this.trigger=e,this.rangeOrSelection=t,this.position=r,this.actions=i,this.type=1}}();e.Triggered=t}(g||(exports.CodeActionsState=g={}));var p=function(i){function n(e,n,s,a){var c=i.call(this)||this;return c._editor=e,c._markerService=n,c._progressService=a,c._codeActionOracle=c._register(new r.MutableDisposable),c._state=g.Empty,c._onDidChangeState=c._register(new t.Emitter),c.onDidChangeState=c._onDidChangeState.event,c._supportedCodeActions=u.bindTo(s),c._register(c._editor.onDidChangeModel(function(){return c._update()})),c._register(c._editor.onDidChangeModelLanguage(function(){return c._update()})),c._register(o.CodeActionProviderRegistry.onDidChange(function(){return c._update()})),c._update(),c}return c(n,i),n.prototype.dispose=function(){i.prototype.dispose.call(this),this.setState(g.Empty,!0)},n.prototype._update=function(){var t=this;this._codeActionOracle.value=void 0,this.setState(g.Empty);var r=this._editor.getModel();if(r&&o.CodeActionProviderRegistry.has(r)&&!this._editor.getOption(65)){for(var i=[],n=0,a=o.CodeActionProviderRegistry.all(r);n<a.length;n++){var c=a[n];Array.isArray(c.providedCodeActionKinds)&&i.push.apply(i,c.providedCodeActionKinds)}this._supportedCodeActions.set(i.join(\" \")),this._codeActionOracle.value=new d(this._editor,this._markerService,function(i){if(i){var o=(0,e.createCancelablePromise)(function(e){return(0,s.getCodeActions)(r,i.selection,i.trigger,e)});t._progressService&&\"manual\"===i.trigger.type&&t._progressService.showWhile(o,250),t.setState(new g.Triggered(i.trigger,i.selection,i.position,o))}else t.setState(g.Empty)},void 0),this._codeActionOracle.value.trigger({type:\"auto\"})}else this._supportedCodeActions.reset()},n.prototype.trigger=function(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)},n.prototype.setState=function(e,t){e!==this._state&&(1===this._state.type&&this._state.actions.cancel(),this._state=e,t||this._onDidChangeState.fire(e))},n}(r.Disposable);exports.CodeActionModel=p;"},"sourceMaps":null,"error":null,"hash":"fd24ad32b831a0f179367f591ac5b5be","cacheData":{"env":{}}}