{"id":"kNKY","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605995141776},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605995141704},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605995321802},{"name":"../../../base/common/async.js","loc":{"line":5,"column":47},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":6,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../common/commands/replaceCommand.js","loc":{"line":7,"column":69},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/commands/replaceCommand.js"},{"name":"../../common/core/position.js","loc":{"line":8,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../common/core/range.js","loc":{"line":9,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/selection.js","loc":{"line":10,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"../../common/model/textModelSearch.js","loc":{"line":11,"column":29},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModelSearch.js"},{"name":"./findDecorations.js","loc":{"line":12,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findDecorations.js"},{"name":"./replaceAllCommand.js","loc":{"line":13,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/replaceAllCommand.js"},{"name":"./replacePattern.js","loc":{"line":14,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/replacePattern.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":15,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/find/findModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.FindModelBoundToEditorModel=exports.MATCHES_LIMIT=exports.FIND_IDS=exports.ToggleSearchScopeKeybinding=exports.ToggleRegexKeybinding=exports.ToggleWholeWordKeybinding=exports.ToggleCaseSensitiveKeybinding=exports.CONTEXT_REPLACE_INPUT_FOCUSED=exports.CONTEXT_FIND_INPUT_FOCUSED=exports.CONTEXT_FIND_WIDGET_VISIBLE=void 0;var e=require(\"../../../base/common/async.js\"),t=require(\"../../../base/common/lifecycle.js\"),i=require(\"../../common/commands/replaceCommand.js\"),o=require(\"../../common/core/position.js\"),n=require(\"../../common/core/range.js\"),s=require(\"../../common/core/selection.js\"),r=require(\"../../common/model/textModelSearch.js\"),a=require(\"./findDecorations.js\"),c=require(\"./replaceAllCommand.js\"),h=require(\"./replacePattern.js\"),d=require(\"../../../platform/contextkey/common/contextkey.js\"),l=new d.RawContextKey(\"findWidgetVisible\",!1);exports.CONTEXT_FIND_WIDGET_VISIBLE=l;var g=new d.RawContextKey(\"findInputFocussed\",!1);exports.CONTEXT_FIND_INPUT_FOCUSED=g;var _=new d.RawContextKey(\"replaceInputFocussed\",!1);exports.CONTEXT_REPLACE_INPUT_FOCUSED=_;var p={primary:545,mac:{primary:2593}};exports.ToggleCaseSensitiveKeybinding=p;var u={primary:565,mac:{primary:2613}};exports.ToggleWholeWordKeybinding=u;var m={primary:560,mac:{primary:2608}};exports.ToggleRegexKeybinding=m;var S={primary:554,mac:{primary:2602}};exports.ToggleSearchScopeKeybinding=S;var C={StartFindAction:\"actions.find\",StartFindWithSelection:\"actions.findWithSelection\",NextMatchFindAction:\"editor.action.nextMatchFindAction\",PreviousMatchFindAction:\"editor.action.previousMatchFindAction\",NextSelectionMatchFindAction:\"editor.action.nextSelectionMatchFindAction\",PreviousSelectionMatchFindAction:\"editor.action.previousSelectionMatchFindAction\",StartFindReplaceAction:\"editor.action.startFindReplaceAction\",CloseFindWidgetCommand:\"closeFindWidget\",ToggleCaseSensitiveCommand:\"toggleFindCaseSensitive\",ToggleWholeWordCommand:\"toggleFindWholeWord\",ToggleRegexCommand:\"toggleFindRegex\",ToggleSearchScopeCommand:\"toggleFindInSelection\",TogglePreserveCaseCommand:\"togglePreserveCase\",ReplaceOneAction:\"editor.action.replaceOne\",ReplaceAllAction:\"editor.action.replaceAll\",SelectAllMatchesAction:\"editor.action.selectAllMatches\"};exports.FIND_IDS=C;var v=19999;exports.MATCHES_LIMIT=v;var f=240,M=function(){function d(i,o){var n=this;this._toDispose=new t.DisposableStore,this._editor=i,this._state=o,this._isDisposed=!1,this._startSearchingTimer=new e.TimeoutTimer,this._decorations=new a.FindDecorations(i),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new e.RunOnceScheduler(function(){return n.research(!1)},100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||n._decorations.setStartPosition(n._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(function(e){n._ignoreModelContentChanged||(e.isFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(function(e){return n._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return d.prototype.dispose=function(){this._isDisposed=!0,(0,t.dispose)(this._startSearchingTimer),this._toDispose.dispose()},d.prototype._onStateChanged=function(e){var t=this;this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)},f)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},d._getSearchRange=function(e,t){return t||e.getFullModelRange()},d.prototype.research=function(e,t){var i=null;null!==(i=void 0!==t?t:this._decorations.getFindScope())&&i.startLineNumber!==i.endLineNumber&&(i=1===i.endColumn?new n.Range(i.startLineNumber,1,i.endLineNumber-1,this._editor.getModel().getLineMaxColumn(i.endLineNumber-1)):new n.Range(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber)));var o=this._findMatches(i,!1,v);this._decorations.set(o,i),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},d.prototype._hasMatches=function(){return this._state.matchesCount>0},d.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},d.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},d.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf(\"^\")>=0||this._state.searchString.indexOf(\"$\")>=0),i=e.lineNumber,n=e.column,s=this._editor.getModel();return t||1===n?(1===i?i=s.getLineCount():i--,n=s.getLineMaxColumn(i)):n--,new o.Position(i,n)},d.prototype._moveToPrevMatch=function(e,t){if(void 0===t&&(t=!1),this._decorations.getCount()<v){var i=this._decorations.matchBeforePosition(e);return i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),i=this._decorations.matchBeforePosition(e)),void(i&&this._setCurrentFindMatch(i))}if(!this._cannotFind()){var n=this._decorations.getFindScope(),s=d._getSearchRange(this._editor.getModel(),n);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());var r=e.lineNumber,a=e.column,c=this._editor.getModel(),h=new o.Position(r,a),l=c.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1);if(l&&l.range.isEmpty()&&l.range.getStartPosition().equals(h)&&(h=this._prevSearchPosition(h),l=c.findPreviousMatch(this._state.searchString,h,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,!1)),l)return t||s.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0)}},d.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},d.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf(\"^\")>=0||this._state.searchString.indexOf(\"$\")>=0),i=e.lineNumber,n=e.column,s=this._editor.getModel();return t||n===s.getLineMaxColumn(i)?(i===s.getLineCount()?i=1:i++,n=1):n++,new o.Position(i,n)},d.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<v){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var i=this._getNextMatch(e,!1,!0);i&&this._setCurrentFindMatch(i.range)},d.prototype._getNextMatch=function(e,t,i,n){if(void 0===n&&(n=!1),this._cannotFind())return null;var s=this._decorations.getFindScope(),r=d._getSearchRange(this._editor.getModel(),s);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());var a=e.lineNumber,c=e.column,h=this._editor.getModel(),l=new o.Position(a,c),g=h.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,t);return i&&g&&g.range.isEmpty()&&g.range.getStartPosition().equals(l)&&(l=this._nextSearchPosition(l),g=h.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,t)),g?n||r.containsRange(g.range)?g:this._getNextMatch(g.range.getEndPosition(),t,i,!0):null},d.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},d.prototype._getReplacePattern=function(){return this._state.isRegex?(0,h.parseReplaceString)(this._state.replaceString):h.ReplacePattern.fromStaticValue(this._state.replaceString)},d.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){var s=e.buildReplaceString(n.matches,this._state.preserveCase),r=new i.ReplaceCommand(t,s);this._executeEditorCommand(\"replace\",r),this._decorations.setStartPosition(new o.Position(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}},d.prototype._findMatches=function(e,t,i){var o=d._getSearchRange(this._editor.getModel(),e);return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null,t,i)},d.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=v?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},d.prototype._largeReplaceAll=function(){var e=new r.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(92):null).parseSearchRequest();if(e){var t=e.regex;if(!t.multiline){var o=\"mu\";t.ignoreCase&&(o+=\"i\"),t.global&&(o+=\"g\"),t=new RegExp(t.source,o)}var n,s=this._editor.getModel(),a=s.getValue(1),c=s.getFullModelRange(),h=this._getReplacePattern(),d=this._state.preserveCase;n=h.hasReplacementPatterns||d?a.replace(t,function(){return h.buildReplaceString(arguments,d)}):a.replace(t,h.buildReplaceString(null,d));var l=new i.ReplaceCommandThatPreservesSelection(c,n,this._editor.getSelection());this._executeEditorCommand(\"replaceAll\",l)}},d.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),o=[],n=0,s=i.length;n<s;n++)o[n]=t.buildReplaceString(i[n].matches,this._state.preserveCase);var r=new c.ReplaceAllCommand(this._editor.getSelection(),i.map(function(e){return e.range}),o);this._executeEditorCommand(\"replaceAll\",r)},d.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824).map(function(e){return new s.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)}),i=this._editor.getSelection(),o=0,n=t.length;o<n;o++){if(t[o].equalsRange(i)){t=[i].concat(t.slice(0,o)).concat(t.slice(o+1));break}}this._editor.setSelections(t)}},d.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},d}();exports.FindModelBoundToEditorModel=M;"},"sourceMaps":null,"error":null,"hash":"2a45e69b1f7b4d92085b9f7845c6fd0c","cacheData":{"env":{}}}