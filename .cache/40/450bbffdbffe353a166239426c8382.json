{"id":"EFoB","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605994286359},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605994286283},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605994508087},{"name":"../../../base/browser/browser.js","loc":{"line":18,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/browser.js"},{"name":"../../../base/browser/dom.js","loc":{"line":19,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/mouseEvent.js","loc":{"line":20,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js"},{"name":"../../../base/common/async.js","loc":{"line":21,"column":47},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":22,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/platform.js","loc":{"line":23,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"./mouseTarget.js","loc":{"line":24,"column":64},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseTarget.js"},{"name":"../editorDom.js","loc":{"line":25,"column":115},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorDom.js"},{"name":"../../common/config/editorZoom.js","loc":{"line":26,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/config/editorZoom.js"},{"name":"../../common/core/position.js","loc":{"line":27,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../common/core/selection.js","loc":{"line":28,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/selection.js"},{"name":"../../common/viewModel/viewEventHandler.js","loc":{"line":29,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewEventHandler.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createMouseMoveEventMerger=m,exports.MouseHandler=void 0;var e=h(require(\"../../../base/browser/browser.js\")),t=h(require(\"../../../base/browser/dom.js\")),o=require(\"../../../base/browser/mouseEvent.js\"),n=require(\"../../../base/common/async.js\"),i=require(\"../../../base/common/lifecycle.js\"),r=h(require(\"../../../base/common/platform.js\")),s=require(\"./mouseTarget.js\"),u=require(\"../editorDom.js\"),a=require(\"../../common/config/editorZoom.js\"),l=require(\"../../common/core/position.js\"),c=require(\"../../common/core/selection.js\"),p=require(\"../../common/viewModel/viewEventHandler.js\");function _(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return _=function(){return e},e}function h(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_();if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=n?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}var f=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function m(e){return function(t,o){var n=!1;return e&&(n=e.mouseTargetIsWidget(o)),n||o.preventDefault(),o}}var v=function(i){function l(r,c,p){var _=i.call(this)||this;_._isFocused=!1,_._context=r,_.viewController=c,_.viewHelper=p,_.mouseTargetFactory=new s.MouseTargetFactory(_._context,p),_._mouseDownOperation=_._register(new M(_._context,_.viewController,_.viewHelper,function(e,t){return _._createMouseTarget(e,t)},function(e){return _._getMouseColumn(e)})),_._asyncFocus=_._register(new n.RunOnceScheduler(function(){return _.viewHelper.focusTextArea()},0)),_.lastMouseLeaveTime=-1;var h=new u.EditorMouseEventFactory(_.viewHelper.viewDomNode);_._register(h.onContextMenu(_.viewHelper.viewDomNode,function(e){return _._onContextMenu(e,!0)})),_._register(h.onMouseMoveThrottled(_.viewHelper.viewDomNode,function(e){return _._onMouseMove(e)},m(_.mouseTargetFactory),l.MOUSE_MOVE_MINIMUM_TIME)),_._register(h.onMouseUp(_.viewHelper.viewDomNode,function(e){return _._onMouseUp(e)})),_._register(h.onMouseLeave(_.viewHelper.viewDomNode,function(e){return _._onMouseLeave(e)})),_._register(h.onMouseDown(_.viewHelper.viewDomNode,function(e){return _._onMouseDown(e)}));return _._register(t.addDisposableListener(_.viewHelper.viewDomNode,e.isEdgeOrIE?\"mousewheel\":\"wheel\",function(e){if(_.viewController.emitMouseWheel(e),_._context.configuration.options.get(55)){var t=new o.StandardWheelEvent(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=a.EditorZoom.getZoomLevel(),i=t.deltaY>0?1:-1;a.EditorZoom.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}},{capture:!0,passive:!1})),_._context.addEventHandler(_),_}return f(l,i),l.prototype.dispose=function(){this._context.removeEventHandler(this),i.prototype.dispose.call(this)},l.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},l.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},l.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},l.prototype.getTargetAtClientPoint=function(e,t){var o=new u.ClientCoordinates(e,t).toPageCoordinates(),n=(0,u.createEditorPagePosition)(this.viewHelper.viewDomNode);return o.y<n.y||o.y>n.y+n.height||o.x<n.x||o.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,o,null)},l.prototype._createMouseTarget=function(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)},l.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},l.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},l.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||(e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)}))},l.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},l.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},l.prototype._onMouseDown=function(t){var o=this,n=this._createMouseTarget(t,!0),i=6===n.type||7===n.type,s=2===n.type||3===n.type||4===n.type,u=3===n.type,a=this._context.configuration.options.get(79),l=8===n.type||5===n.type,c=9===n.type,p=t.leftButton||t.middleButton;r.isMacintosh&&t.leftButton&&t.ctrlKey&&(p=!1);var _=function(){e.isIE&&!o._isFocused?o._asyncFocus.schedule():(t.preventDefault(),o.viewHelper.focusTextArea())};if(p&&(i||u&&a))_(),this._mouseDownOperation.start(n.type,t);else if(s)t.preventDefault();else if(l){var h=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&(_(),this._mouseDownOperation.start(n.type,t),t.preventDefault())}else c&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(_(),t.preventDefault());this.viewController.emitMouseDown({event:t,target:n})},l.MOUSE_MOVE_MINIMUM_TIME=100,l}(p.ViewEventHandler);exports.MouseHandler=v;var M=function(e){function t(t,o,i,r,s){var a=e.call(this)||this;return a._context=t,a._viewController=o,a._viewHelper=i,a._createMouseTarget=r,a._getMouseColumn=s,a._mouseMoveMonitor=a._register(new u.GlobalEditorMouseMoveMonitor(a._viewHelper.viewDomNode)),a._onScrollTimeout=a._register(new n.TimeoutTimer),a._mouseState=new d,a._currentSelection=new c.Selection(1,1,1,1),a._isActive=!1,a._lastMouseEvent=null,a}return f(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},t.prototype.start=function(e,t){var o=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var n=this._findMousePosition(t,!0);if(n&&n.position){this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count;var i=this._context.configuration.options;if(!i.get(65)&&i.get(23)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(m(null),function(e){return o._onMouseDownThenMove(e)},function(){var e=o._findMousePosition(o._lastMouseEvent,!0);o._viewController.emitMouseDrop({event:o._lastMouseEvent,target:e?o._createMouseTarget(o._lastMouseEvent,!0):null}),o._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(m(null),function(e){return o._onMouseDownThenMove(e)},function(){return o._stop()}))}},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}},10)},t.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,o=this._context.model,n=this._context.viewLayout,i=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0);if(a=s.HitTestContext.getZoneAtCoord(this._context,r))if(c=this._helpPositionJumpOverViewZone(a))return new s.MouseTarget(null,13,i,c);var u=n.getLineNumberAtVerticalOffset(r);return new s.MouseTarget(null,13,i,new l.Position(u,1))}if(e.posy>t.y+t.height){var a,c;r=n.getCurrentScrollTop()+(e.posy-t.y);if(a=s.HitTestContext.getZoneAtCoord(this._context,r))if(c=this._helpPositionJumpOverViewZone(a))return new s.MouseTarget(null,13,i,c);var p=n.getLineNumberAtVerticalOffset(r);return new s.MouseTarget(null,13,i,new l.Position(p,o.getLineMaxColumn(p)))}var _=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new s.MouseTarget(null,13,i,new l.Position(_,1)):e.posx>t.x+t.width?new s.MouseTarget(null,13,i,new l.Position(_,o.getLineMaxColumn(_))):null},t.prototype._findMousePosition=function(e,t){var o=this._getPositionOutsideEditor(e);if(o)return o;var n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){var i=this._helpPositionJumpOverViewZone(n.detail);if(i)return new s.MouseTarget(n.element,n.type,n.mouseColumn,i,null,n.detail)}return n},t.prototype._helpPositionJumpOverViewZone=function(e){var t=new l.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=e.positionBefore,n=e.positionAfter;return o&&n?o.isBefore(t)?o:n:null},t.prototype._dispatchMouse=function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},t}(i.Disposable),d=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(e.prototype,\"altKey\",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"ctrlKey\",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"metaKey\",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"shiftKey\",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"leftButton\",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"middleButton\",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"startedOnLineNumbers\",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"count\",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,o){var n=(new Date).getTime();n-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=n,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}();"},"sourceMaps":null,"error":null,"hash":"c7f5181ceeba2dbba3552ec536e948de","cacheData":{"env":{}}}