{"id":"HB3g","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605994915815},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605994915739},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605995102295},{"name":"../../../common/core/token.js","loc":{"line":5,"column":63},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/token.js"},{"name":"../../../common/modes.js","loc":{"line":6,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes.js"},{"name":"../../../common/modes/nullMode.js","loc":{"line":7,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes/nullMode.js"},{"name":"./monarchCommon.js","loc":{"line":8,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchCommon.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createTokenizationSupport=_,exports.MonarchTokenizer=void 0;var e=require(\"../../../common/core/token.js\"),t=o(require(\"../../../common/modes.js\")),n=require(\"../../../common/modes/nullMode.js\"),r=o(require(\"./monarchCommon.js\"));function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}var s=5,a=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new u(e,t);var n=u.getStackElementId(e);n.length>0&&(n+=\"|\"),n+=t;var r=this._entries[n];return r||(r=new u(e,t),this._entries[n]=r,r)},e._INSTANCE=new e(s),e}(),u=function(){function e(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return e.getStackElementId=function(e){for(var t=\"\";null!==e;)t.length>0&&(t+=\"|\"),t+=e.state,e=e.parent;return t},e._equals=function(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t},e.prototype.equals=function(t){return e._equals(this,t)},e.prototype.push=function(e){return a.create(this,e)},e.prototype.pop=function(){return this.parent},e.prototype.popall=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.switchTo=function(e){return a.create(this.parent,e)},e}(),l=function(){function e(e,t){this.modeId=e,this.state=t}return e.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},e.prototype.clone=function(){return this.state.clone()===this.state?this:new e(this.modeId,this.state)},e}(),h=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==t)return new d(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new d(e,t);var n=u.getStackElementId(e),r=this._entries[n];return r||(r=new d(e,null),this._entries[n]=r,r)},e._INSTANCE=new e(s),e}(),d=function(){function e(e,t){this.stack=e,this.embeddedModeData=t}return e.prototype.clone=function(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:h.create(this.stack,this.embeddedModeData)},e.prototype.equals=function(t){return t instanceof e&&(!!this.stack.equals(t.stack)&&(null===this.embeddedModeData&&null===t.embeddedModeData||null!==this.embeddedModeData&&null!==t.embeddedModeData&&this.embeddedModeData.equals(t.embeddedModeData)))},e}(),c=function(){function n(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return n.prototype.enterMode=function(e,t){this._language=t},n.prototype.emit=function(t,n){this._lastTokenType===n&&this._lastTokenLanguage===this._language||(this._lastTokenType=n,this._lastTokenLanguage=this._language,this._tokens.push(new e.Token(t,n,this._language)))},n.prototype.nestedModeTokenize=function(e,n,r){var i=n.modeId,o=n.state,s=t.TokenizationRegistry.get(i);if(!s)return this.enterMode(r,i),this.emit(r,\"\"),o;var a=s.tokenize(e,o,r);return this._tokens=this._tokens.concat(a.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,a.endState},n.prototype.finalize=function(t){return new e.TokenizationResult(this._tokens,t)},n}(),f=function(){function n(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return n.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},n.prototype.emit=function(e,t){var n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))},n._merge=function(e,t,n){var r=null!==e?e.length:0,i=t.length,o=null!==n?n.length:0;if(0===r&&0===i&&0===o)return new Uint32Array(0);if(0===r&&0===i)return n;if(0===i&&0===o)return e;var s=new Uint32Array(r+i+o);null!==e&&s.set(e);for(var a=0;a<i;a++)s[r+a]=t[a];return null!==n&&s.set(n,r+i),s},n.prototype.nestedModeTokenize=function(e,r,i){var o=r.modeId,s=r.state,a=t.TokenizationRegistry.get(o);if(!a)return this.enterMode(i,o),this.emit(i,\"\"),s;var u=a.tokenize2(e,s,i);return this._prependTokens=n._merge(this._prependTokens,this._tokens,u.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,u.endState},n.prototype.finalize=function(t){return new e.TokenizationResult2(n._merge(this._prependTokens,this._tokens,null),t)},n}(),p=function(){function e(e,n,r,i){var o=this;this._modeService=e,this._standaloneThemeService=n,this._modeId=r,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var s=!1;this._tokenizationRegistryListener=t.TokenizationRegistry.onDidChange(function(e){if(!s){for(var n=!1,r=0,i=e.changedLanguages.length;r<i;r++){var a=e.changedLanguages[r];if(o._embeddedModes[a]){n=!0;break}}n&&(s=!0,t.TokenizationRegistry.fire([o._modeId]),s=!1)}})}return e.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},e.prototype.getLoadStatus=function(){var n=[];for(var r in this._embeddedModes){var i=t.TokenizationRegistry.get(r);if(i){if(i instanceof e){var o=i.getLoadStatus();!1===o.loaded&&n.push(o.promise)}}else{var s=t.TokenizationRegistry.getPromise(r);s&&n.push(s)}}return 0===n.length?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(function(e){})}},e.prototype.getInitialState=function(){var e=a.create(null,this._lexer.start);return h.create(e,null)},e.prototype.tokenize=function(e,t,n){var r=new c,i=this._tokenize(e,t,n,r);return r.finalize(i)},e.prototype.tokenize2=function(e,t,n){var r=new f(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),i=this._tokenize(e,t,n,r);return r.finalize(i)},e.prototype._tokenize=function(e,t,n,r){return t.embeddedModeData?this._nestedTokenize(e,t,n,r):this._myTokenize(e,t,n,r)},e.prototype._findLeavingNestedModeOffset=function(e,t){var n=this._lexer.tokenizer[t.stack.state];if(!n&&!(n=r.findRules(this._lexer,t.stack.state)))throw r.createError(this._lexer,\"tokenizer state is not defined: \"+t.stack.state);for(var i=-1,o=!1,s=0,a=n;s<a.length;s++){var u=a[s];if(r.isIAction(u.action)&&\"@pop\"===u.action.nextEmbedded){o=!0;var l=u.regex,h=u.regex.source;\"^(?:\"===h.substr(0,4)&&\")\"===h.substr(h.length-1,1)&&(l=new RegExp(h.substr(4,h.length-5),l.ignoreCase?\"i\":\"\"));var d=e.search(l);-1!==d&&(-1===i||d<i)&&(i=d)}}if(!o)throw r.createError(this._lexer,'no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: '+t.stack.state);return i},e.prototype._nestedTokenize=function(e,t,n,r){var i=this._findLeavingNestedModeOffset(e,t);if(-1===i){var o=r.nestedModeTokenize(e,t.embeddedModeData,n);return h.create(t.stack,new l(t.embeddedModeData.modeId,o))}var s=e.substring(0,i);s.length>0&&r.nestedModeTokenize(s,t.embeddedModeData,n);var a=e.substring(i);return this._myTokenize(a,t,n+i,r)},e.prototype._safeRuleName=function(e){return e?e.name:\"(unknown)\"},e.prototype._myTokenize=function(e,t,n,i){i.enterMode(n,this._modeId);for(var o=e.length,s=t.embeddedModeData,a=t.stack,u=0,l=null,d=!0;d||u<o;){var c=u,f=a.depth,p=l?l.groups.length:0,_=a.state,m=null,k=null,v=null,y=null,b=null;if(l){m=l.matches;var x=l.groups.shift();k=x.matched,v=x.action,y=l.rule,0===l.groups.length&&(l=null)}else{if(!d&&u>=o)break;d=!1;var T=this._lexer.tokenizer[_];if(!T&&!(T=r.findRules(this._lexer,_)))throw r.createError(this._lexer,\"tokenizer state is not defined: \"+_);for(var M=e.substr(u),w=0,z=T;w<z.length;w++){var E=z[w];if((0===u||!E.matchOnlyAtLineStart)&&(m=M.match(E.regex))){k=m[0],v=E.action;break}}}if(m||(m=[\"\"],k=\"\"),v||(u<o&&(k=(m=[e.charAt(u)])[0]),v=this._lexer.defaultToken),null===k)break;for(u+=k.length;r.isFuzzyAction(v)&&r.isIAction(v)&&v.test;)v=v.test(k,m,_,u===o);var I=null;if(\"string\"==typeof v||Array.isArray(v))I=v;else if(v.group)I=v.group;else if(null!==v.token&&void 0!==v.token){if(I=v.tokenSubst?r.substituteMatches(this._lexer,v.token,k,m,_):v.token,v.nextEmbedded)if(\"@pop\"===v.nextEmbedded){if(!s)throw r.createError(this._lexer,\"cannot pop embedded mode if not inside one\");s=null}else{if(s)throw r.createError(this._lexer,\"cannot enter embedded mode from within an embedded mode\");b=r.substituteMatches(this._lexer,v.nextEmbedded,k,m,_)}if(v.goBack&&(u=Math.max(0,u-v.goBack)),v.switchTo&&\"string\"==typeof v.switchTo){if(\"@\"===(S=r.substituteMatches(this._lexer,v.switchTo,k,m,_))[0]&&(S=S.substr(1)),!r.findRules(this._lexer,S))throw r.createError(this._lexer,\"trying to switch to a state '\"+S+\"' that is undefined in rule: \"+this._safeRuleName(y));a=a.switchTo(S)}else{if(v.transform&&\"function\"==typeof v.transform)throw r.createError(this._lexer,\"action.transform not supported\");if(v.next)if(\"@push\"===v.next){if(a.depth>=this._lexer.maxStack)throw r.createError(this._lexer,\"maximum tokenizer stack size reached: [\"+a.state+\",\"+a.parent.state+\",...]\");a=a.push(_)}else if(\"@pop\"===v.next){if(a.depth<=1)throw r.createError(this._lexer,\"trying to pop an empty stack in rule: \"+this._safeRuleName(y));a=a.pop()}else if(\"@popall\"===v.next)a=a.popall();else{var S;if(\"@\"===(S=r.substituteMatches(this._lexer,v.next,k,m,_))[0]&&(S=S.substr(1)),!r.findRules(this._lexer,S))throw r.createError(this._lexer,\"trying to set a next state '\"+S+\"' that is undefined in rule: \"+this._safeRuleName(y));a=a.push(S)}}v.log&&\"string\"==typeof v.log&&r.log(this._lexer,this._lexer.languageId+\": \"+r.substituteMatches(this._lexer,v.log,k,m,_))}if(null===I)throw r.createError(this._lexer,\"lexer rule has no well-defined action in rule: \"+this._safeRuleName(y));if(Array.isArray(I)){if(l&&l.groups.length>0)throw r.createError(this._lexer,\"groups cannot be nested: \"+this._safeRuleName(y));if(m.length!==I.length+1)throw r.createError(this._lexer,\"matched number of groups does not match the number of actions in rule: \"+this._safeRuleName(y));for(var D=0,R=1;R<m.length;R++)D+=m[R].length;if(D!==k.length)throw r.createError(this._lexer,\"with groups, all characters should be matched in consecutive groups in rule: \"+this._safeRuleName(y));l={rule:y,matches:m,groups:[]};for(R=0;R<I.length;R++)l.groups[R]={action:I[R],matched:m[R+1]};u-=k.length}else{if(\"@rematch\"===I&&(u-=k.length,k=\"\",m=null,I=\"\"),0===k.length){if(0===o||f!==a.depth||_!==a.state||(l?l.groups.length:0)!==p)continue;throw r.createError(this._lexer,\"no progress in tokenizer in rule: \"+this._safeRuleName(y))}var L=null;if(r.isString(I)&&0===I.indexOf(\"@brackets\")){var N=I.substr(\"@brackets\".length),O=g(this._lexer,k);if(!O)throw r.createError(this._lexer,\"@brackets token returned but no bracket defined as: \"+k);L=r.sanitize(O.token+N)}else{var A=\"\"===I?\"\":I+this._lexer.tokenPostfix;L=r.sanitize(A)}if(i.emit(c+n,L),null!==b){var j=this._modeService.getModeIdForLanguageName(b);j&&(b=j);var q=this._getNestedEmbeddedModeData(b);if(u<o){M=e.substr(u);return this._nestedTokenize(M,h.create(a,q),n+u,i)}return h.create(a,q)}}}return h.create(a,s)},e.prototype._getNestedEmbeddedModeData=function(e){var r=this._locateMode(e);if(r){var i=t.TokenizationRegistry.get(r);if(i)return new l(r,i.getInitialState())}return new l(r||n.NULL_MODE_ID,n.NULL_STATE)},e.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;var t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t},e}();function g(e,t){if(!t)return null;t=r.fixCase(e,t);for(var n=0,i=e.brackets;n<i.length;n++){var o=i[n];if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function _(e,t,n,r){return new p(e,t,n,r)}exports.MonarchTokenizer=p;"},"sourceMaps":null,"error":null,"hash":"d2225bec12d4ac6436b2d31149157c86","cacheData":{"env":{}}}