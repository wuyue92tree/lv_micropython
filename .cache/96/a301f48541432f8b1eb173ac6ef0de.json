{"id":"GLjj","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605995141776},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605995141704},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605995321802},{"name":"./media/diffEditor.css","loc":{"line":27,"column":7},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/media/diffEditor.css"},{"name":"../../../nls.js","loc":{"line":28,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/browser/dom.js","loc":{"line":29,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../base/browser/fastDomNode.js","loc":{"line":30,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/fastDomNode.js"},{"name":"../../../base/browser/ui/sash/sash.js","loc":{"line":31,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/sash/sash.js"},{"name":"../../../base/common/async.js","loc":{"line":32,"column":48},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/event.js","loc":{"line":33,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":34,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/objects.js","loc":{"line":35,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/objects.js"},{"name":"../config/configuration.js","loc":{"line":36,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/config/configuration.js"},{"name":"../core/editorState.js","loc":{"line":37,"column":40},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/core/editorState.js"},{"name":"../services/codeEditorService.js","loc":{"line":38,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js"},{"name":"./codeEditorWidget.js","loc":{"line":39,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorWidget.js"},{"name":"./diffReview.js","loc":{"line":40,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffReview.js"},{"name":"../../common/config/editorOptions.js","loc":{"line":41,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/config/editorOptions.js"},{"name":"../../common/core/range.js","loc":{"line":42,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../../common/core/stringBuilder.js","loc":{"line":43,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/stringBuilder.js"},{"name":"../../common/editorCommon.js","loc":{"line":44,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorCommon.js"},{"name":"../../common/model/textModel.js","loc":{"line":45,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/model/textModel.js"},{"name":"../../common/services/editorWorkerService.js","loc":{"line":46,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/services/editorWorkerService.js"},{"name":"../../common/view/overviewZoneManager.js","loc":{"line":47,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/view/overviewZoneManager.js"},{"name":"../../common/viewLayout/lineDecorations.js","loc":{"line":48,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/lineDecorations.js"},{"name":"../../common/viewLayout/viewLineRenderer.js","loc":{"line":49,"column":48},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLineRenderer.js"},{"name":"../../common/viewModel/viewModel.js","loc":{"line":50,"column":56},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModel.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":51,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"},{"name":"../../../platform/instantiation/common/instantiation.js","loc":{"line":52,"column":38},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/instantiation.js"},{"name":"../../../platform/instantiation/common/serviceCollection.js","loc":{"line":53,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/instantiation/common/serviceCollection.js"},{"name":"../../../platform/notification/common/notification.js","loc":{"line":54,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js"},{"name":"../../../platform/theme/common/colorRegistry.js","loc":{"line":55,"column":152},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/colorRegistry.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":56,"column":80},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../../platform/contextview/browser/contextView.js","loc":{"line":57,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextview/browser/contextView.js"},{"name":"./inlineDiffMargin.js","loc":{"line":58,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/inlineDiffMargin.js"},{"name":"../editorExtensions.js","loc":{"line":59,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../../base/common/errors.js","loc":{"line":60,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../platform/progress/common/progress.js","loc":{"line":61,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditorWidget.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DiffEditorWidget=void 0,require(\"./media/diffEditor.css\");var e=x(require(\"../../../nls.js\")),i=x(require(\"../../../base/browser/dom.js\")),t=require(\"../../../base/browser/fastDomNode.js\"),o=require(\"../../../base/browser/ui/sash/sash.js\"),r=require(\"../../../base/common/async.js\"),n=require(\"../../../base/common/event.js\"),a=require(\"../../../base/common/lifecycle.js\"),s=x(require(\"../../../base/common/objects.js\")),d=require(\"../config/configuration.js\"),l=require(\"../core/editorState.js\"),u=require(\"../services/codeEditorService.js\"),h=require(\"./codeEditorWidget.js\"),m=require(\"./diffReview.js\"),c=require(\"../../common/config/editorOptions.js\"),f=require(\"../../common/core/range.js\"),g=require(\"../../common/core/stringBuilder.js\"),p=x(require(\"../../common/editorCommon.js\")),_=require(\"../../common/model/textModel.js\"),v=require(\"../../common/services/editorWorkerService.js\"),E=require(\"../../common/view/overviewZoneManager.js\"),w=require(\"../../common/viewLayout/lineDecorations.js\"),D=require(\"../../common/viewLayout/viewLineRenderer.js\"),S=require(\"../../common/viewModel/viewModel.js\"),N=require(\"../../../platform/contextkey/common/contextkey.js\"),b=require(\"../../../platform/instantiation/common/instantiation.js\"),L=require(\"../../../platform/instantiation/common/serviceCollection.js\"),y=require(\"../../../platform/notification/common/notification.js\"),C=require(\"../../../platform/theme/common/colorRegistry.js\"),I=require(\"../../../platform/theme/common/themeService.js\"),O=require(\"../../../platform/contextview/browser/contextView.js\"),R=require(\"./inlineDiffMargin.js\"),M=require(\"../editorExtensions.js\"),V=require(\"../../../base/common/errors.js\"),T=require(\"../../../platform/progress/common/progress.js\");function W(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return W=function(){return e},e}function x(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var i=W();if(i&&i.has(e))return i.get(e);var t={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=o?Object.getOwnPropertyDescriptor(e,r):null;n&&(n.get||n.set)?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,i&&i.set(e,t),t}var F=function(){var e=function(i,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(i,t)};return function(i,t){function o(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),H=function(e,i,t,o){var r,n=arguments.length,a=n<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,t):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,i,t,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(i,t,a):r(i,t))||a);return n>3&&a&&Object.defineProperty(i,t,a),a},P=function(e,i){return function(t,o){i(t,o,e)}},j=function(){function e(e,i){this._contextMenuService=e,this._clipboardService=i,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var i=this;return e.filter(function(e){return!i._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var i=this;this._zones.length>0&&e.changeViewZones(function(e){for(var t=0,o=i._zones.length;t<o;t++)e.removeZone(i._zones[t])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},e.prototype.apply=function(e,i,t,o){var r=this,n=o?l.StableEditorScrollState.capture(e):null;e.changeViewZones(function(i){for(var o=0,n=r._zones.length;o<n;o++)i.removeZone(r._zones[o]);o=0;for(var a=r.inlineDiffMargins.length;o<a;o++)r.inlineDiffMargins[o].dispose();r._zones=[],r._zonesMap={},r.inlineDiffMargins=[];o=0;for(var s=t.zones.length;o<s;o++){var d=t.zones[o];d.suppressMouseDown=!0;var l=i.addZone(d);r._zones.push(l),r._zonesMap[String(l)]=!0,t.zones[o].diff&&d.marginDomNode&&r._clipboardService&&(d.suppressMouseDown=!1,r.inlineDiffMargins.push(new R.InlineDiffMargin(l,d.marginDomNode,e,t.zones[o].diff,r._contextMenuService,r._clipboardService)))}}),n&&n.restore(e),this._decorations=e.deltaDecorations(this._decorations,t.decorations),i&&i.setZones(t.overviewZones)},e}(),Z=0,z=function(o){function a(e,s,d,l,u,h,c,f,g,p,_){var v=o.call(this)||this;v._editorProgressService=_,v._onDidDispose=v._register(new n.Emitter),v.onDidDispose=v._onDidDispose.event,v._onDidUpdateDiff=v._register(new n.Emitter),v.onDidUpdateDiff=v._onDidUpdateDiff.event,v._lastOriginalWarning=null,v._lastModifiedWarning=null,v._editorWorkerService=l,v._codeEditorService=c,v._contextKeyService=v._register(u.createScoped(e)),v._contextKeyService.createKey(\"isInDiffEditor\",!0),v._themeService=f,v._notificationService=g,v.id=++Z,v._state=0,v._updatingDiffProgress=null,v._domElement=e,s=s||{},v._renderSideBySide=!0,void 0!==s.renderSideBySide&&(v._renderSideBySide=s.renderSideBySide),v._maxComputationTime=5e3,void 0!==s.maxComputationTime&&(v._maxComputationTime=s.maxComputationTime),v._ignoreTrimWhitespace=!0,void 0!==s.ignoreTrimWhitespace&&(v._ignoreTrimWhitespace=s.ignoreTrimWhitespace),v._renderIndicators=!0,void 0!==s.renderIndicators&&(v._renderIndicators=s.renderIndicators),v._originalIsEditable=!1,void 0!==s.originalEditable&&(v._originalIsEditable=Boolean(s.originalEditable)),v._updateDecorationsRunner=v._register(new r.RunOnceScheduler(function(){return v._updateDecorations()},0)),v._containerDomElement=document.createElement(\"div\"),v._containerDomElement.className=a._getClassName(v._themeService.getTheme(),v._renderSideBySide),v._containerDomElement.style.position=\"relative\",v._containerDomElement.style.height=\"100%\",v._domElement.appendChild(v._containerDomElement),v._overviewViewportDomElement=(0,t.createFastDomNode)(document.createElement(\"div\")),v._overviewViewportDomElement.setClassName(\"diffViewport\"),v._overviewViewportDomElement.setPosition(\"absolute\"),v._overviewDomElement=document.createElement(\"div\"),v._overviewDomElement.className=\"diffOverview\",v._overviewDomElement.style.position=\"absolute\",v._overviewDomElement.appendChild(v._overviewViewportDomElement.domNode),v._register(i.addStandardDisposableListener(v._overviewDomElement,\"mousedown\",function(e){v.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),v._containerDomElement.appendChild(v._overviewDomElement),v._originalDomNode=document.createElement(\"div\"),v._originalDomNode.className=\"editor original\",v._originalDomNode.style.position=\"absolute\",v._originalDomNode.style.height=\"100%\",v._containerDomElement.appendChild(v._originalDomNode),v._modifiedDomNode=document.createElement(\"div\"),v._modifiedDomNode.className=\"editor modified\",v._modifiedDomNode.style.position=\"absolute\",v._modifiedDomNode.style.height=\"100%\",v._containerDomElement.appendChild(v._modifiedDomNode),v._beginUpdateDecorationsTimeout=-1,v._currentlyChangingViewZones=!1,v._diffComputationToken=0,v._originalEditorState=new j(p,d),v._modifiedEditorState=new j(p,d),v._isVisible=!0,v._isHandlingScrollEvent=!1,v._width=0,v._height=0,v._reviewHeight=0,v._diffComputationResult=null;var E=v._contextKeyService.createScoped();E.createKey(\"isInDiffLeftEditor\",!0);var w=new L.ServiceCollection;w.set(N.IContextKeyService,E);var D=h.createChild(w),S=v._contextKeyService.createScoped();S.createKey(\"isInDiffRightEditor\",!0);var b=new L.ServiceCollection;b.set(N.IContextKeyService,S);var y=h.createChild(b);v.originalEditor=v._createLeftHandSideEditor(s,D),v.modifiedEditor=v._createRightHandSideEditor(s,y),v._originalOverviewRuler=null,v._modifiedOverviewRuler=null,v._reviewPane=new m.DiffReview(v),v._containerDomElement.appendChild(v._reviewPane.domNode.domNode),v._containerDomElement.appendChild(v._reviewPane.shadow.domNode),v._containerDomElement.appendChild(v._reviewPane.actionBarContainer.domNode),s.automaticLayout?(v._measureDomElementToken=new r.IntervalTimer,v._measureDomElementToken.cancelAndSet(function(){return v._measureDomElement(!1)},100)):v._measureDomElementToken=null,v._enableSplitViewResizing=!0,void 0!==s.enableSplitViewResizing&&(v._enableSplitViewResizing=s.enableSplitViewResizing),v._renderSideBySide?v._setStrategy(new K(v._createDataSource(),v._enableSplitViewResizing)):v._setStrategy(new Y(v._createDataSource(),v._enableSplitViewResizing)),v._register(f.onThemeChange(function(e){v._strategy&&v._strategy.applyColors(e)&&v._updateDecorationsRunner.schedule(),v._containerDomElement.className=a._getClassName(v._themeService.getTheme(),v._renderSideBySide)}));for(var C=0,I=M.EditorExtensionsRegistry.getDiffEditorContributions();C<I.length;C++){var O=I[C];try{v._register(h.createInstance(O.ctor,v))}catch(R){(0,V.onUnexpectedError)(R)}}return v._codeEditorService.addDiffEditor(v),v}return F(a,o),a.prototype._setState=function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},a.prototype.hasWidgetFocus=function(){return i.isAncestor(document.activeElement,this._domElement)},a.prototype.diffReviewNext=function(){this._reviewPane.next()},a.prototype.diffReviewPrev=function(){this._reviewPane.prev()},a._getClassName=function(e,i){var t=\"monaco-diff-editor monaco-editor-background \";return i&&(t+=\"side-by-side \"),t+=(0,I.getThemeTypeSelector)(e.type)},a.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler(\"original diffOverviewRuler\"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler(\"modified diffOverviewRuler\"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},a.prototype._createLeftHandSideEditor=function(e,i){var t=this,o=this._createInnerEditor(i,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));return this._register(o.onDidScrollChange(function(e){t._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()})),o},a.prototype._createRightHandSideEditor=function(e,i){var t=this,o=this._createInnerEditor(i,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));return this._register(o.onDidScrollChange(function(e){t._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(o.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(o.onDidChangeConfiguration(function(e){e.hasChanged(32)&&o.getModel()&&t._onViewZonesChanged()})),this._register(o.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()})),this._register(o.onDidChangeModelOptions(function(e){e.tabSize&&t._updateDecorationsRunner.schedule()})),o},a.prototype._createInnerEditor=function(e,i,t){return e.createInstance(h.CodeEditorWidget,i,t,{})},a.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._measureDomElementToken&&this._measureDomElementToken.dispose(),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),o.prototype.dispose.call(this)},a.prototype.getId=function(){return this.getEditorType()+\":\"+this.id},a.prototype.getEditorType=function(){return p.EditorType.IDiffEditor},a.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},a.prototype.getOriginalEditor=function(){return this.originalEditor},a.prototype.getModifiedEditor=function(){return this.modifiedEditor},a.prototype.updateOptions=function(e){var i=!1;void 0!==e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,i=!0),void 0!==e.maxComputationTime&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var t=!1;void 0!==e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,t=!0),void 0!==e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,t=!0),t&&this._beginUpdateDecorations(),void 0!==e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),void 0!==e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new K(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new Y(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=a._getClassName(this._themeService.getTheme(),this._renderSideBySide))},a.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},a.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?\"DiffEditorWidget.setModel: Modified model is null\":\"DiffEditorWidget.setModel: Original model is null\");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},a.prototype.getDomNode=function(){return this._domElement},a.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},a.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},a.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},a.prototype.revealLine=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLine(e,i)},a.prototype.revealLineInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLineInCenter(e,i)},a.prototype.revealLineInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,i)},a.prototype.revealPosition=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPosition(e,i)},a.prototype.revealPositionInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPositionInCenter(e,i)},a.prototype.revealPositionInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,i)},a.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},a.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},a.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},a.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},a.prototype.revealLines=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLines(e,i,t)},a.prototype.revealLinesInCenter=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLinesInCenter(e,i,t)},a.prototype.revealLinesInCenterIfOutsideViewport=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,i,t)},a.prototype.revealRange=function(e,i,t,o){void 0===i&&(i=0),void 0===t&&(t=!1),void 0===o&&(o=!0),this.modifiedEditor.revealRange(e,i,t,o)},a.prototype.revealRangeInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeInCenter(e,i)},a.prototype.revealRangeInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,i)},a.prototype.revealRangeAtTop=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeAtTop(e,i)},a.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},a.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},a.prototype.restoreViewState=function(e){if(e.original&&e.modified){var i=e;this.originalEditor.restoreViewState(i.original),this.modifiedEditor.restoreViewState(i.modified)}},a.prototype.layout=function(e){this._measureDomElement(!1,e)},a.prototype.focus=function(){this.modifiedEditor.focus()},a.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},a.prototype.trigger=function(e,i,t){this.modifiedEditor.trigger(e,i,t)},a.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},a.prototype._measureDomElement=function(e,i){if((i=i||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width<=0)return this._width=0,this._height=0,void(this._reviewHeight=0);(e||i.width!==this._width||i.height!==this._height)&&(this._width=i.width,this._height=i.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},a.prototype._layoutOverviewRulers=function(){if(this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=a.ENTIRE_DIFF_OVERVIEW_WIDTH-2*a.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:a.ONE_OVERVIEW_WIDTH,right:e+a.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:a.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))}},a.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},a.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return e._beginUpdateDecorations()},a.UPDATE_DIFF_DECORATIONS_DELAY)},a._equals=function(e,i){return!e&&!i||!(!e||!i)&&e.toString()===i.toString()},a.prototype._beginUpdateDecorations=function(){var i=this;this._beginUpdateDecorationsTimeout=-1;var t=this.originalEditor.getModel(),o=this.modifiedEditor.getModel();if(t&&o){this._diffComputationToken++;var r=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,o.uri)?this._editorWorkerService.computeDiff(t.uri,o.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(function(e){r===i._diffComputationToken&&t===i.originalEditor.getModel()&&o===i.modifiedEditor.getModel()&&(i._setState(2),i._diffComputationResult=e,i._updateDecorationsRunner.schedule(),i._onDidUpdateDiff.fire())},function(e){r===i._diffComputationToken&&t===i.originalEditor.getModel()&&o===i.modifiedEditor.getModel()&&(i._setState(2),i._diffComputationResult=null,i._updateDecorationsRunner.schedule())}):a._equals(t.uri,this._lastOriginalWarning)&&a._equals(o.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=o.uri,this._notificationService.warn(e.localize(\"diff.tooLarge\",\"Cannot compare files because one file is too large.\")))}},a.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},a.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),t=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,i,t,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},a.prototype._adjustOptionsForSubEditor=function(e){var i=s.deepClone(e||{});return i.inDiffEditor=!0,i.wordWrap=\"off\",i.wordWrapMinified=!1,i.automaticLayout=!1,i.scrollbar=i.scrollbar||{},i.scrollbar.vertical=\"visible\",i.folding=!1,i.codeLens=!1,i.fixedOverflowWidgets=!0,i.minimap||(i.minimap={}),i.minimap.enabled=!1,i},a.prototype._adjustOptionsForLeftHandSide=function(e,i){var t=this._adjustOptionsForSubEditor(e);return t.readOnly=!i,t.extraEditorClassName=\"original-in-monaco-diff-editor\",t},a.prototype._adjustOptionsForRightHandSide=function(e){var i=this._adjustOptionsForSubEditor(e);return i.revealHorizontalRightPadding=c.EditorOptions.revealHorizontalRightPadding.defaultValue+a.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.extraEditorClassName=\"modified-in-monaco-diff-editor\",i},a.prototype.doLayout=function(){this._measureDomElement(!0)},a.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+\"px\",this._originalDomNode.style.left=\"0px\",this._modifiedDomNode.style.width=this._width-e+\"px\",this._modifiedDomNode.style.left=e+\"px\",this._overviewDomElement.style.top=\"0px\",this._overviewDomElement.style.height=this._height-this._reviewHeight+\"px\",this._overviewDomElement.style.width=a.ENTIRE_DIFF_OVERVIEW_WIDTH+\"px\",this._overviewDomElement.style.left=this._width-a.ENTIRE_DIFF_OVERVIEW_WIDTH+\"px\",this._overviewViewportDomElement.setWidth(a.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:e,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-e-a.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},a.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},a.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var i=this.modifiedEditor.getScrollTop(),t=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.contentHeight),r=Math.max(0,o-0),n=t>0?r/t:0;return{height:Math.max(0,Math.floor(e.contentHeight*n)),top:Math.floor(i*n)}},a.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height-e._reviewHeight},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},a.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},a.prototype._getLineChangeAtOrBeforeLineNumber=function(e,i){var t=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===t.length||e<i(t[0]))return null;for(var o=0,r=t.length-1;o<r;){var n=Math.floor((o+r)/2),a=i(t[n]),s=n+1<=r?i(t[n+1]):1073741824;e<a?r=n-1:e>=s?o=n+1:(o=n,r=n)}return t[o]},a.prototype._getEquivalentLineForOriginalLineNumber=function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),o=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),r=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,n=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-t;return a<=r?o+Math.min(a,n):o+n-r+a},a.prototype._getEquivalentLineForModifiedLineNumber=function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),o=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),r=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,n=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-o;return a<=n?t+Math.min(a,r):t+r-n+a},a.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},a.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},a.ONE_OVERVIEW_WIDTH=15,a.ENTIRE_DIFF_OVERVIEW_WIDTH=30,a.UPDATE_DIFF_DECORATIONS_DELAY=200,a=H([P(3,v.IEditorWorkerService),P(4,N.IContextKeyService),P(5,b.IInstantiationService),P(6,u.ICodeEditorService),P(7,I.IThemeService),P(8,y.INotificationService),P(9,O.IContextMenuService),P(10,T.IEditorProgressService)],a)}(a.Disposable);exports.DiffEditorWidget=z;var q=function(e){function i(i){var t=e.call(this)||this;return t._dataSource=i,t._insertColor=null,t._removeColor=null,t}return F(i,e),i.prototype.applyColors=function(e){var i=(e.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),t=(e.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2),o=!i.equals(this._insertColor)||!t.equals(this._removeColor);return this._insertColor=i,this._removeColor=t,o},i.prototype.getEditorsDiffDecorations=function(e,i,t,o,r,n,a){r=r.sort(function(e,i){return e.afterLineNumber-i.afterLineNumber}),o=o.sort(function(e,i){return e.afterLineNumber-i.afterLineNumber});var s=this._getViewZones(e,o,r,n,a,t),d=this._getOriginalEditorDecorations(e,i,t,n,a),l=this._getModifiedEditorDecorations(e,i,t,n,a);return{original:{decorations:d.decorations,overviewZones:d.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}},i}(a.Disposable),A=function(){function e(e){this._source=e,this._index=-1,this.current=null,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),k=function(){function e(e,i,t,o,r){this.lineChanges=e,this.originalForeignVZ=i,this.originalLineHeight=t,this.modifiedForeignVZ=o,this.modifiedLineHeight=r}return e.prototype.getViewZones=function(){for(var i=[],t=[],o=0,r=0,n=0,a=0,s=0,d=0,l=function(e,i){return e.afterLineNumber-i.afterLineNumber},u=function(e,i){if(null===i.domNode&&e.length>0){var t=e[e.length-1];if(t.afterLineNumber===i.afterLineNumber&&null===t.domNode)return void(t.heightInLines+=i.heightInLines)}e.push(i)},h=new A(this.modifiedForeignVZ),m=new A(this.originalForeignVZ),c=0,f=this.lineChanges.length;c<=f;c++){var g=c<f?this.lineChanges[c]:null;null!==g?(n=g.originalStartLineNumber+(g.originalEndLineNumber>0?-1:0),a=g.modifiedStartLineNumber+(g.modifiedEndLineNumber>0?-1:0),r=g.originalEndLineNumber>0?g.originalEndLineNumber-g.originalStartLineNumber+1:0,o=g.modifiedEndLineNumber>0?g.modifiedEndLineNumber-g.modifiedStartLineNumber+1:0,s=Math.max(g.originalStartLineNumber,g.originalEndLineNumber),d=Math.max(g.modifiedStartLineNumber,g.modifiedEndLineNumber)):(s=n+=1e7+r,d=a+=1e7+o);for(var p,_=[],v=[];h.current&&h.current.afterLineNumber<=d;){var E=void 0;E=h.current.afterLineNumber<=a?n-a+h.current.afterLineNumber:s;var w=null;g&&g.modifiedStartLineNumber<=h.current.afterLineNumber&&h.current.afterLineNumber<=g.modifiedEndLineNumber&&(w=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),_.push({afterLineNumber:E,heightInLines:h.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:w}),h.advance()}for(;m.current&&m.current.afterLineNumber<=s;){E=void 0;E=m.current.afterLineNumber<=n?a-n+m.current.afterLineNumber:d,v.push({afterLineNumber:E,heightInLines:m.current.height/this.originalLineHeight,domNode:null}),m.advance()}if(null!==g&&J(g))(p=this._produceOriginalFromDiff(g,r,o))&&_.push(p);if(null!==g&&Q(g))(p=this._produceModifiedFromDiff(g,r,o))&&v.push(p);var D=0,S=0;for(_=_.sort(l),v=v.sort(l);D<_.length&&S<v.length;){var N=_[D],b=v[S],L=N.afterLineNumber-n,y=b.afterLineNumber-a;L<y?(u(i,N),D++):y<L?(u(t,b),S++):N.shouldNotShrink?(u(i,N),D++):b.shouldNotShrink?(u(t,b),S++):N.heightInLines>=b.heightInLines?(N.heightInLines-=b.heightInLines,S++):(b.heightInLines-=N.heightInLines,D++)}for(;D<_.length;)u(i,_[D]),D++;for(;S<v.length;)u(t,v[S]),S++}return{original:e._ensureDomNodes(i),modified:e._ensureDomNodes(t)}},e._ensureDomNodes=function(e){return e.map(function(e){return e.domNode||(e.domNode=$()),e})},e}();function U(e,i,t,o,r){return{range:new f.Range(e,i,t,o),options:r}}var B={charDelete:_.ModelDecorationOptions.register({className:\"char-delete\"}),charDeleteWholeLine:_.ModelDecorationOptions.register({className:\"char-delete\",isWholeLine:!0}),charInsert:_.ModelDecorationOptions.register({className:\"char-insert\"}),charInsertWholeLine:_.ModelDecorationOptions.register({className:\"char-insert\",isWholeLine:!0}),lineInsert:_.ModelDecorationOptions.register({className:\"line-insert\",marginClassName:\"line-insert\",isWholeLine:!0}),lineInsertWithSign:_.ModelDecorationOptions.register({className:\"line-insert\",linesDecorationsClassName:\"insert-sign\",marginClassName:\"line-insert\",isWholeLine:!0}),lineDelete:_.ModelDecorationOptions.register({className:\"line-delete\",marginClassName:\"line-delete\",isWholeLine:!0}),lineDeleteWithSign:_.ModelDecorationOptions.register({className:\"line-delete\",linesDecorationsClassName:\"delete-sign\",marginClassName:\"line-delete\",isWholeLine:!0}),lineDeleteMargin:_.ModelDecorationOptions.register({marginClassName:\"line-delete\"})},K=function(e){function i(i,t){var r=e.call(this,i)||this;return r._disableSash=!1===t,r._sashRatio=null,r._sashPosition=null,r._startSashPosition=null,r._sash=r._register(new o.Sash(r._dataSource.getContainerDomNode(),r)),r._disableSash&&(r._sash.state=0),r._sash.onDidStart(function(){return r.onSashDragStart()}),r._sash.onDidChange(function(e){return r.onSashDrag(e)}),r._sash.onDidEnd(function(){return r.onSashDragEnd()}),r._sash.onDidReset(function(){return r.onSashReset()}),r}return F(i,e),i.prototype.setEnableSplitViewResizing=function(e){var i=!1===e;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)},i.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var t=this._dataSource.getWidth()-z.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((e||.5)*t),r=Math.floor(.5*t);return o=this._disableSash?r:o||r,t>2*i.MINIMUM_EDITOR_WIDTH?(o<i.MINIMUM_EDITOR_WIDTH&&(o=i.MINIMUM_EDITOR_WIDTH),o>t-i.MINIMUM_EDITOR_WIDTH&&(o=t-i.MINIMUM_EDITOR_WIDTH)):o=r,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},i.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},i.prototype.onSashDrag=function(e){var i=this._dataSource.getWidth()-z.ENTIRE_DIFF_OVERVIEW_WIDTH,t=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=t/i,this._dataSource.relayoutEditors()},i.prototype.onSashDragEnd=function(){this._sash.layout()},i.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},i.prototype.getVerticalSashTop=function(e){return 0},i.prototype.getVerticalSashLeft=function(e){return this._sashPosition},i.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},i.prototype._getViewZones=function(e,i,t,o,r){return new X(e,i,o.getOption(47),t,r.getOption(47)).getViewZones()},i.prototype._getOriginalEditorDecorations=function(e,i,t,o,r){for(var n=String(this._removeColor),a={decorations:[],overviewZones:[]},s=o.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(Q(u)&&(a.decorations.push({range:new f.Range(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:t?B.lineDeleteWithSign:B.lineDelete}),J(u)&&u.charChanges||a.decorations.push(U(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,B.charDeleteWholeLine)),a.overviewZones.push(new E.OverviewRulerZone(u.originalStartLineNumber,u.originalEndLineNumber,n)),u.charChanges))for(var h=0,m=u.charChanges.length;h<m;h++){var c=u.charChanges[h];if(Q(c))if(i)for(var g=c.originalStartLineNumber;g<=c.originalEndLineNumber;g++){var p=void 0,_=void 0;p=g===c.originalStartLineNumber?c.originalStartColumn:s.getLineFirstNonWhitespaceColumn(g),_=g===c.originalEndLineNumber?c.originalEndColumn:s.getLineLastNonWhitespaceColumn(g),a.decorations.push(U(g,p,g,_,B.charDelete))}else a.decorations.push(U(c.originalStartLineNumber,c.originalStartColumn,c.originalEndLineNumber,c.originalEndColumn,B.charDelete))}}return a},i.prototype._getModifiedEditorDecorations=function(e,i,t,o,r){for(var n=String(this._insertColor),a={decorations:[],overviewZones:[]},s=r.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(J(u)&&(a.decorations.push({range:new f.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:t?B.lineInsertWithSign:B.lineInsert}),Q(u)&&u.charChanges||a.decorations.push(U(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,B.charInsertWholeLine)),a.overviewZones.push(new E.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,n)),u.charChanges))for(var h=0,m=u.charChanges.length;h<m;h++){var c=u.charChanges[h];if(J(c))if(i)for(var g=c.modifiedStartLineNumber;g<=c.modifiedEndLineNumber;g++){var p=void 0,_=void 0;p=g===c.modifiedStartLineNumber?c.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(g),_=g===c.modifiedEndLineNumber?c.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(g),a.decorations.push(U(g,p,g,_,B.charInsert))}else a.decorations.push(U(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn,B.charInsert))}}return a},i.MINIMUM_EDITOR_WIDTH=100,i}(q),X=function(e){function i(i,t,o,r,n){return e.call(this,i,t,o,r,n)||this}return F(i,e),i.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},i.prototype._produceOriginalFromDiff=function(e,i,t){return t>i?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t-i,domNode:null}:null},i.prototype._produceModifiedFromDiff=function(e,i,t){return i>t?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:i-t,domNode:null}:null},i}(k),Y=function(e){function i(i,t){var o=e.call(this,i)||this;return o.decorationsLeft=i.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(i.getOriginalEditor().onDidLayoutChange(function(e){o.decorationsLeft!==e.decorationsLeft&&(o.decorationsLeft=e.decorationsLeft,i.relayoutEditors())})),o}return F(i,e),i.prototype.setEnableSplitViewResizing=function(e){},i.prototype._getViewZones=function(e,i,t,o,r,n){return new G(e,i,t,o,r,n).getViewZones()},i.prototype._getOriginalEditorDecorations=function(e,i,t,o,r){for(var n=String(this._removeColor),a={decorations:[],overviewZones:[]},s=0,d=e.length;s<d;s++){var l=e[s];Q(l)&&(a.decorations.push({range:new f.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,1073741824),options:B.lineDeleteMargin}),a.overviewZones.push(new E.OverviewRulerZone(l.originalStartLineNumber,l.originalEndLineNumber,n)))}return a},i.prototype._getModifiedEditorDecorations=function(e,i,t,o,r){for(var n=String(this._insertColor),a={decorations:[],overviewZones:[]},s=r.getModel(),d=0,l=e.length;d<l;d++){var u=e[d];if(J(u))if(a.decorations.push({range:new f.Range(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:t?B.lineInsertWithSign:B.lineInsert}),a.overviewZones.push(new E.OverviewRulerZone(u.modifiedStartLineNumber,u.modifiedEndLineNumber,n)),u.charChanges)for(var h=0,m=u.charChanges.length;h<m;h++){var c=u.charChanges[h];if(J(c))if(i)for(var g=c.modifiedStartLineNumber;g<=c.modifiedEndLineNumber;g++){var p=void 0,_=void 0;p=g===c.modifiedStartLineNumber?c.modifiedStartColumn:s.getLineFirstNonWhitespaceColumn(g),_=g===c.modifiedEndLineNumber?c.modifiedEndColumn:s.getLineLastNonWhitespaceColumn(g),a.decorations.push(U(g,p,g,_,B.charInsert))}else a.decorations.push(U(c.modifiedStartLineNumber,c.modifiedStartColumn,c.modifiedEndLineNumber,c.modifiedEndColumn,B.charInsert))}else a.decorations.push(U(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,B.charInsertWholeLine))}return a},i.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},i}(q),G=function(e){function i(i,t,o,r,n,a){var s=e.call(this,i,t,r.getOption(47),o,n.getOption(47))||this;return s.originalModel=r.getModel(),s.modifiedEditorOptions=n.getOptions(),s.modifiedEditorTabSize=n.getModel().getOptions().tabSize,s.renderIndicators=a,s}return F(i,e),i.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement(\"div\");return e.className=\"inline-added-margin-view-zone\",e},i.prototype._produceOriginalFromDiff=function(e,i,t){var o=document.createElement(\"div\");return o.className=\"inline-added-margin-view-zone\",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t,domNode:document.createElement(\"div\"),marginDomNode:o}},i.prototype._produceModifiedFromDiff=function(e,i,t){var o=[];if(e.charChanges)for(var r=0,n=e.charChanges.length;r<n;r++){var a=e.charChanges[r];Q(a)&&o.push(new S.InlineDecoration(new f.Range(a.originalStartLineNumber,a.originalStartColumn,a.originalEndLineNumber,a.originalEndColumn),\"char-delete\",0))}for(var s=(0,g.createStringBuilder)(1e4),l=[],u=this.modifiedEditorOptions.get(103),h=this.modifiedEditorOptions.get(32),m=u.decorationsWidth,c=this.modifiedEditorOptions.get(47),p=h.typicalHalfwidthCharacterWidth,_=0,v=[],E=e.originalStartLineNumber;E<=e.originalEndLineNumber;E++)if(_=Math.max(_,this._renderOriginalLine(E-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,E,o,s)),v.push(this.originalModel.getLineContent(E)),this.renderIndicators){var w=E-e.originalStartLineNumber;l=l.concat(['<div class=\"delete-sign\" style=\"position:absolute;top:'+w*c+\"px;width:\"+m+\"px;height:\"+c+'px;right:0;\"></div>'])}_+=this.modifiedEditorOptions.get(75);var D=document.createElement(\"div\");D.className=\"view-lines line-delete\",D.innerHTML=s.build(),d.Configuration.applyFontInfoSlow(D,h);var N=document.createElement(\"div\");return N.className=\"inline-deleted-margin-view-zone\",N.innerHTML=l.join(\"\"),d.Configuration.applyFontInfoSlow(N,h),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:_*p,domNode:D,marginDomNode:N,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:v}}},i.prototype._renderOriginalLine=function(e,i,t,o,r,n,a){var s=i.getLineTokens(r),d=s.getLineContent(),l=t.get(32),u=w.LineDecoration.filter(n,r,1,d.length+1);a.appendASCIIString('<div class=\"view-line'),0===n.length&&a.appendASCIIString(\" char-delete\"),a.appendASCIIString('\" style=\"top:'),a.appendASCIIString(String(e*t.get(47))),a.appendASCIIString('px;width:1000000px;\">');var h=S.ViewLineRenderingData.isBasicASCII(d,i.mightContainNonBasicASCII()),m=S.ViewLineRenderingData.containsRTL(d,h,i.mightContainRTL()),f=(0,D.renderViewLine)(new D.RenderLineInput(l.isMonospace&&!t.get(22),l.canUseHalfwidthRightwardsArrow,d,!1,h,m,0,s,u,o,l.spaceWidth,t.get(84),t.get(70),t.get(66),t.get(33)!==c.EditorFontLigatures.OFF,null),a);a.appendASCIIString(\"</div>\");var g=f.characterMapping.getAbsoluteOffsets();return g.length>0?g[g.length-1]:0},i}(k);function J(e){return e.modifiedEndLineNumber>0}function Q(e){return e.originalEndLineNumber>0}function $(){var e=document.createElement(\"div\");return e.className=\"diagonal-fill\",e}(0,I.registerThemingParticipant)(function(e,i){var t=e.getColor(C.diffInserted);t&&(i.addRule(\".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: \"+t+\"; }\"),i.addRule(\".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: \"+t+\"; }\"),i.addRule(\".monaco-editor .inline-added-margin-view-zone { background-color: \"+t+\"; }\"));var o=e.getColor(C.diffRemoved);o&&(i.addRule(\".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: \"+o+\"; }\"),i.addRule(\".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: \"+o+\"; }\"),i.addRule(\".monaco-editor .inline-deleted-margin-view-zone { background-color: \"+o+\"; }\"));var r=e.getColor(C.diffInsertedOutline);r&&i.addRule(\".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px \"+(\"hc\"===e.type?\"dashed\":\"solid\")+\" \"+r+\"; }\");var n=e.getColor(C.diffRemovedOutline);n&&i.addRule(\".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px \"+(\"hc\"===e.type?\"dashed\":\"solid\")+\" \"+n+\"; }\");var a=e.getColor(C.scrollbarShadow);a&&i.addRule(\".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px \"+a+\"; }\");var s=e.getColor(C.diffBorder);s&&i.addRule(\".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid \"+s+\"; }\")});"},"sourceMaps":null,"error":null,"hash":"fe3cfe57daef7d48bd0af90e6bbbe839","cacheData":{"env":{}}}