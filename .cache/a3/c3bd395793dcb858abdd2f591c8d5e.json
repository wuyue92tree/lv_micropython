{"id":"DTZp","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999876337},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999876333},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606000047237},{"name":"../../../base/common/arrays.js","loc":{"line":18,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../../base/common/cancellation.js","loc":{"line":19,"column":40},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/cancellation.js"},{"name":"../../../base/common/collections.js","loc":{"line":20,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/collections.js"},{"name":"../../../base/common/errors.js","loc":{"line":21,"column":42},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../base/common/map.js","loc":{"line":22,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/map.js"},{"name":"../../common/modes.js","loc":{"line":23,"column":47},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/outlineModel.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.OutlineModel=exports.OutlineGroup=exports.OutlineElement=exports.TreeElement=void 0;var e=require(\"../../../base/common/arrays.js\"),t=require(\"../../../base/common/cancellation.js\"),r=require(\"../../../base/common/collections.js\"),n=require(\"../../../base/common/errors.js\"),o=require(\"../../../base/common/map.js\"),i=require(\"../../common/modes.js\"),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(){function e(){}return e.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},e.findId=function(e,t){var r;\"string\"==typeof e?r=t.id+\"/\"+e:(r=t.id+\"/\"+e.name,void 0!==t.children[r]&&(r=t.id+\"/\"+e.name+\"_\"+e.range.startLineNumber+\"_\"+e.range.startColumn));for(var n=r,o=0;void 0!==t.children[n];o++)n=r+\"_\"+o;return n},e.empty=function(e){for(var t in e.children)return!1;return!0},e}();exports.TreeElement=u;var a=function(e){function t(t,r,n){var o=e.call(this)||this;return o.id=t,o.parent=r,o.symbol=n,o.children=Object.create(null),o}return s(t,e),t}(u);exports.OutlineElement=a;var c=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.id=t,i.parent=r,i.provider=n,i.providerIndex=o,i.children=Object.create(null),i}return s(t,e),t}(u);exports.OutlineGroup=c;var l=function(){function e(){this._n=1,this._val=0}return e.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},e}(),d=function(d){function p(e){var t=d.call(this)||this;return t.textModel=e,t.id=\"root\",t.parent=void 0,t._groups=Object.create(null),t.children=Object.create(null),t.id=\"root\",t.parent=void 0,t}return s(p,d),p.create=function(e,r){var n=this,o=this._keys.for(e,!0),i=p._requests.get(o);if(!i){var s=new t.CancellationTokenSource;i={promiseCnt:0,source:s,promise:p._create(e,s.token),model:void 0},p._requests.set(o,i);var u=Date.now();i.promise.then(function(){var t=n._keys.for(e,!1),r=n._requestDurations.get(t);r||(r=new l,n._requestDurations.set(t,r)),r.update(Date.now()-u)})}return i.model?Promise.resolve(i.model):(i.promiseCnt+=1,r.onCancellationRequested(function(){0==--i.promiseCnt&&(i.source.cancel(),p._requests.delete(o))}),new Promise(function(e,t){i.promise.then(function(t){i.model=t,e(t)},function(e){p._requests.delete(o),t(e)})}))},p._create=function(r,o){var s=new t.CancellationTokenSource(o),a=new p(r),l=i.DocumentSymbolProviderRegistry.ordered(r),d=l.map(function(e,t){var r=u.findId(\"provider_\"+t,a),o=new c(r,a,e,t);return Promise.resolve(e.provideDocumentSymbols(a.textModel,s.token)).then(function(e){for(var t=0,r=e||[];t<r.length;t++){var n=r[t];p._makeOutlineElement(n,o)}return o},function(e){return(0,n.onUnexpectedExternalError)(e),o}).then(function(e){u.empty(e)?e.remove():a._groups[r]=e})}),h=i.DocumentSymbolProviderRegistry.onDidChange(function(){var t=i.DocumentSymbolProviderRegistry.ordered(r);(0,e.equals)(t,l)||s.cancel()});return Promise.all(d).then(function(){return s.token.isCancellationRequested&&!o.isCancellationRequested?p._create(r,o):a._compact()}).finally(function(){h.dispose()})},p._makeOutlineElement=function(e,t){var r=u.findId(e,t),n=new a(r,t,e);if(e.children)for(var o=0,i=e.children;o<i.length;o++){var s=i[o];p._makeOutlineElement(s,n)}t.children[n.id]=n},p.prototype._compact=function(){var e=0;for(var t in this._groups){var n=this._groups[t];void 0===(0,r.first)(n.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{n=(0,r.first)(this._groups);for(var t in n.children){var o=n.children[t];o.parent=this,this.children[o.id]=o}}return this},p._requestDurations=new o.LRUCache(50,.7),p._requests=new o.LRUCache(9,.75),p._keys=new(function(){function e(){this._counter=1,this._data=new WeakMap}return e.prototype.for=function(e,t){return e.id+\"/\"+(t?e.getVersionId():\"\")+\"/\"+this._hash(i.DocumentSymbolProviderRegistry.all(e))},e.prototype._hash=function(e){for(var t=\"\",r=0,n=e;r<n.length;r++){var o=n[r],i=this._data.get(o);void 0===i&&(i=this._counter++,this._data.set(o,i)),t+=i}return t},e}()),p}(u);exports.OutlineModel=d;"},"sourceMaps":null,"error":null,"hash":"f33a2a3cd87be5ac933984afb55552e0","cacheData":{"env":{}}}