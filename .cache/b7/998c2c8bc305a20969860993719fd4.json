{"id":"C94R","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999876337},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999876333},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606000047237},{"name":"../../../nls.js","loc":{"line":18,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":19,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../browser/editorExtensions.js","loc":{"line":20,"column":79},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../common/editorContextKeys.js","loc":{"line":21,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/cursorUndo.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.CursorRedo=exports.CursorUndo=exports.CursorUndoRedoController=void 0;var t=i(require(\"../../../nls.js\")),o=require(\"../../../base/common/lifecycle.js\"),e=require(\"../../browser/editorExtensions.js\"),r=require(\"../../common/editorContextKeys.js\");function n(){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||\"object\"!=typeof t&&\"function\"!=typeof t)return{default:t};var o=n();if(o&&o.has(t))return o.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,o&&o.set(t,e),e}var s=function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),u=function(){function t(t){this.selections=t}return t.prototype.equals=function(t){var o=this.selections.length;if(o!==t.selections.length)return!1;for(var e=0;e<o;e++)if(!this.selections[e].equalsSelection(t.selections[e]))return!1;return!0},t}(),c=function(t){function o(o){var e=t.call(this)||this;return e._editor=o,e._isCursorUndoRedo=!1,e._undoStack=[],e._redoStack=[],e._register(o.onDidChangeModel(function(t){e._undoStack=[],e._redoStack=[]})),e._register(o.onDidChangeModelContent(function(t){e._undoStack=[],e._redoStack=[]})),e._register(o.onDidChangeCursorSelection(function(t){if(!e._isCursorUndoRedo&&t.oldSelections&&t.oldModelVersionId===t.modelVersionId){var o=new u(t.oldSelections);e._undoStack.length>0&&e._undoStack[e._undoStack.length-1].equals(o)||(e._undoStack.push(o),e._redoStack=[],e._undoStack.length>50&&e._undoStack.shift())}})),e}return s(o,t),o.get=function(t){return t.getContribution(o.ID)},o.prototype.cursorUndo=function(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new u(this._editor.getSelections())),this._applyState(this._undoStack.pop()))},o.prototype.cursorRedo=function(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new u(this._editor.getSelections())),this._applyState(this._redoStack.pop()))},o.prototype._applyState=function(t){this._isCursorUndoRedo=!0,this._editor.setSelections(t.selections),this._editor.revealRangeInCenterIfOutsideViewport(t.selections[0],0),this._isCursorUndoRedo=!1},o.ID=\"editor.contrib.cursorUndoRedoController\",o}(o.Disposable);exports.CursorUndoRedoController=c;var d=function(o){function e(){return o.call(this,{id:\"cursorUndo\",label:t.localize(\"cursor.undo\",\"Cursor Undo\"),alias:\"Cursor Undo\",precondition:void 0,kbOpts:{kbExpr:r.EditorContextKeys.textInputFocus,primary:2099,weight:100}})||this}return s(e,o),e.prototype.run=function(t,o,e){c.get(o).cursorUndo()},e}(e.EditorAction);exports.CursorUndo=d;var a=function(o){function e(){return o.call(this,{id:\"cursorRedo\",label:t.localize(\"cursor.redo\",\"Cursor Redo\"),alias:\"Cursor Redo\",precondition:void 0})||this}return s(e,o),e.prototype.run=function(t,o,e){c.get(o).cursorRedo()},e}(e.EditorAction);exports.CursorRedo=a,(0,e.registerEditorContribution)(c.ID,c),(0,e.registerEditorAction)(d),(0,e.registerEditorAction)(a);"},"sourceMaps":null,"error":null,"hash":"95a748476007d2e8f4a16c46f8850ce4","cacheData":{"env":{}}}