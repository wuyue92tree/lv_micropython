{"id":"HTl4","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999876337},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999876333},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1606000047237},{"name":"../../../nls.js","loc":{"line":63,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/nls.js"},{"name":"../../../base/common/errors.js","loc":{"line":64,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/errors.js"},{"name":"../../../platform/contextkey/common/contextkey.js","loc":{"line":65,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/contextkey/common/contextkey.js"},{"name":"../../../platform/progress/common/progress.js","loc":{"line":66,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/progress/common/progress.js"},{"name":"../../browser/editorExtensions.js","loc":{"line":67,"column":149},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/editorExtensions.js"},{"name":"../../common/editorContextKeys.js","loc":{"line":68,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/editorContextKeys.js"},{"name":"./renameInputField.js","loc":{"line":69,"column":63},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/renameInputField.js"},{"name":"../../../platform/theme/common/themeService.js","loc":{"line":70,"column":30},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/theme/common/themeService.js"},{"name":"../../common/modes.js","loc":{"line":71,"column":39},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/modes.js"},{"name":"../../common/core/position.js","loc":{"line":72,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/position.js"},{"name":"../../../base/browser/ui/aria/aria.js","loc":{"line":73,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/aria/aria.js"},{"name":"../../common/core/range.js","loc":{"line":74,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/common/core/range.js"},{"name":"../message/messageController.js","loc":{"line":75,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/message/messageController.js"},{"name":"../../browser/core/editorState.js","loc":{"line":76,"column":51},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/core/editorState.js"},{"name":"../../../platform/notification/common/notification.js","loc":{"line":77,"column":37},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/platform/notification/common/notification.js"},{"name":"../../browser/services/bulkEditService.js","loc":{"line":78,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/services/bulkEditService.js"},{"name":"../../../base/common/uri.js","loc":{"line":79,"column":20},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/uri.js"},{"name":"../../browser/services/codeEditorService.js","loc":{"line":80,"column":35},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/browser/services/codeEditorService.js"},{"name":"../../../base/common/cancellation.js","loc":{"line":81,"column":59},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/cancellation.js"},{"name":"../../../base/common/lifecycle.js","loc":{"line":82,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../base/common/async.js","loc":{"line":83,"column":44},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../../base/common/types.js","loc":{"line":84,"column":36},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/editor/contrib/rename/rename.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/types.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.rename=P,exports.RenameAction=void 0;var e=j(require(\"../../../nls.js\")),t=require(\"../../../base/common/errors.js\"),r=require(\"../../../platform/contextkey/common/contextkey.js\"),n=require(\"../../../platform/progress/common/progress.js\"),o=require(\"../../browser/editorExtensions.js\"),i=require(\"../../common/editorContextKeys.js\"),s=require(\"./renameInputField.js\"),a=require(\"../../../platform/theme/common/themeService.js\"),c=require(\"../../common/modes.js\"),u=require(\"../../common/core/position.js\"),l=require(\"../../../base/browser/ui/aria/aria.js\"),d=require(\"../../common/core/range.js\"),p=require(\"../message/messageController.js\"),f=require(\"../../browser/core/editorState.js\"),m=require(\"../../../platform/notification/common/notification.js\"),h=require(\"../../browser/services/bulkEditService.js\"),v=require(\"../../../base/common/uri.js\"),y=require(\"../../browser/services/codeEditorService.js\"),b=require(\"../../../base/common/cancellation.js\"),g=require(\"../../../base/common/lifecycle.js\"),w=require(\"../../../base/common/async.js\"),_=require(\"../../../base/common/types.js\");function R(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return R=function(){return e},e}function j(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=R();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}var E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),S=function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},C=function(e,t){return function(r,n){t(r,n,e)}},x=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})},I=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},k=function(){function t(e,t){this.model=e,this.position=t,this._providers=c.RenameProviderRegistry.ordered(e)}return t.prototype.hasProvider=function(){return this._providers.length>0},t.prototype.resolveRenameLocation=function(e){return x(this,void 0,void 0,function(){var t,r,n,o;return I(this,function(i){switch(i.label){case 0:return(t=this._providers[0])?t.resolveRenameLocation?(n=_.withNullAsUndefined,[4,t.resolveRenameLocation(this.model,this.position,e)]):[3,2]:[2,void 0];case 1:r=n.apply(void 0,[i.sent()]),i.label=2;case 2:return!r&&(o=this.model.getWordAtPosition(this.position))?[2,{range:new d.Range(this.position.lineNumber,o.startColumn,this.position.lineNumber,o.endColumn),text:o.word}]:[2,r]}})})},t.prototype.provideRenameEdits=function(t,r,n,o){return x(this,void 0,void 0,function(){var i,s;return I(this,function(a){switch(a.label){case 0:return(i=this._providers[r])?[4,i.provideRenameEdits(this.model,this.position,t,o)]:[2,{edits:[],rejectReason:n.join(\"\\n\")}];case 1:return(s=a.sent())?s.rejectReason?[2,this.provideRenameEdits(t,r+1,n.concat(s.rejectReason),o)]:[2,s]:[2,this.provideRenameEdits(t,r+1,n.concat(e.localize(\"no result\",\"No result.\")),o)]}})})},t}();function P(e,t,r){return x(this,void 0,void 0,function(){return I(this,function(n){return[2,new k(e,t).provideRenameEdits(r,0,[],b.CancellationToken.None)]})})}var q=function(){function t(e,t,r,n,o,i){var a=this;this.editor=e,this._notificationService=t,this._bulkEditService=r,this._progressService=n,this._contextKeyService=o,this._themeService=i,this._dispoableStore=new g.DisposableStore,this._cts=new b.CancellationTokenSource,this._renameInputField=new w.IdleValue(function(){return a._dispoableStore.add(new s.RenameInputField(a.editor,a._themeService,a._contextKeyService))})}return t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},t.prototype.run=function(){return x(this,void 0,void 0,function(){var t,r,n,o,i,s,a,c,u,m,h=this;return I(this,function(v){switch(v.label){case 0:if(this._cts.dispose(!0),!this.editor.hasModel())return[2,void 0];if(t=this.editor.getPosition(),!(r=new k(this.editor.getModel(),t)).hasProvider())return[2,void 0];this._cts=new f.EditorStateCancellationTokenSource(this.editor,5),v.label=1;case 1:return v.trys.push([1,3,,4]),o=r.resolveRenameLocation(this._cts.token),this._progressService.showWhile(o,250),[4,o];case 2:return n=v.sent(),[3,4];case 3:return i=v.sent(),p.MessageController.get(this.editor).showMessage(i||e.localize(\"resolveRenameLocationFailed\",\"An unknown error occurred while resolving rename location\"),t),[2,void 0];case 4:return n?n.rejectReason?(p.MessageController.get(this.editor).showMessage(n.rejectReason,t),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(s=this.editor.getSelection(),a=0,c=n.text.length,d.Range.isEmpty(s)||d.Range.spansMultipleLines(s)||!d.Range.containsRange(n.range,s)||(a=Math.max(0,s.startColumn-n.range.startColumn),c=Math.min(n.range.endColumn,s.endColumn)-n.range.startColumn),[4,this._renameInputField.getValue().getInput(n.range,n.text,a,c)]):[2,void 0];case 5:return\"boolean\"==typeof(u=v.sent())?(u&&this.editor.focus(),[2,void 0]):(this.editor.focus(),m=(0,w.raceCancellation)(r.provideRenameEdits(u,0,[],this._cts.token),this._cts.token).then(function(t){return x(h,void 0,void 0,function(){var r;return I(this,function(o){switch(o.label){case 0:return t&&this.editor.hasModel()?t.rejectReason?(this._notificationService.info(t.rejectReason),[2]):[4,this._bulkEditService.apply(t,{editor:this.editor})]:[2];case 1:return(r=o.sent()).ariaSummary&&(0,l.alert)(e.localize(\"aria\",\"Successfully renamed '{0}' to '{1}'. Summary: {2}\",n.text,u,r.ariaSummary)),[2]}})})},function(t){return h._notificationService.error(e.localize(\"rename.failed\",\"Rename failed to execute.\")),Promise.reject(t)}),this._progressService.showWhile(m,250),[2,m])}})})},t.prototype.acceptRenameInput=function(){this._renameInputField.getValue().acceptInput()},t.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},t.ID=\"editor.contrib.renameController\",t=S([C(1,m.INotificationService),C(2,h.IBulkEditService),C(3,n.IEditorProgressService),C(4,r.IContextKeyService),C(5,a.IThemeService)],t)}(),O=function(n){function o(){return n.call(this,{id:\"editor.action.rename\",label:e.localize(\"rename.label\",\"Rename Symbol\"),alias:\"Rename Symbol\",precondition:r.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:\"1_modification\",order:1.1}})||this}return E(o,n),o.prototype.runCommand=function(e,r){var o=this,i=e.get(y.ICodeEditorService),s=Array.isArray(r)&&r||[void 0,void 0],a=s[0],c=s[1];return v.URI.isUri(a)&&u.Position.isIPosition(c)?i.openCodeEditor({resource:a},i.getActiveCodeEditor()).then(function(e){e&&(e.setPosition(c),e.invokeWithinContext(function(t){return o.reportTelemetry(t,e),o.run(t,e)}))},t.onUnexpectedError):n.prototype.runCommand.call(this,e,r)},o.prototype.run=function(e,t){var r=q.get(t);return r?r.run():Promise.resolve()},o}(o.EditorAction);exports.RenameAction=O,(0,o.registerEditorContribution)(q.ID,q),(0,o.registerEditorAction)(O);var M=o.EditorCommand.bindToContribution(q.get);(0,o.registerEditorCommand)(new M({id:\"acceptRenameInput\",precondition:s.CONTEXT_RENAME_INPUT_VISIBLE,handler:function(e){return e.acceptRenameInput()},kbOpts:{weight:199,kbExpr:i.EditorContextKeys.focus,primary:3}})),(0,o.registerEditorCommand)(new M({id:\"cancelRenameInput\",precondition:s.CONTEXT_RENAME_INPUT_VISIBLE,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:i.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,o.registerDefaultLanguageCommand)(\"_executeDocumentRenameProvider\",function(e,r,n){var o=n.newName;if(\"string\"!=typeof o)throw(0,t.illegalArgument)(\"newName\");return P(e,r,o)});"},"sourceMaps":null,"error":null,"hash":"7150baa311fa9f0768d2f414d691940d","cacheData":{"env":{}}}