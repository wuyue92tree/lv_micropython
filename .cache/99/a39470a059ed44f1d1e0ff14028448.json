{"id":"BZDp","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999081707},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999081703},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605999259245},{"name":"../../../common/platform.js","loc":{"line":18,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/platform.js"},{"name":"../../../browser/browser.js","loc":{"line":19,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/browser.js"},{"name":"../../../common/lifecycle.js","loc":{"line":20,"column":27},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../../browser/dom.js","loc":{"line":21,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../common/diff/diff.js","loc":{"line":22,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/diff/diff.js"},{"name":"../../../browser/touch.js","loc":{"line":23,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/touch.js"},{"name":"../../../common/strings.js","loc":{"line":24,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/strings.js"},{"name":"../../../browser/mouseEvent.js","loc":{"line":25,"column":23},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/mouseEvent.js"},{"name":"../../../browser/keyboardEvent.js","loc":{"line":26,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/keyboardEvent.js"},{"name":"./treeDnd.js","loc":{"line":27,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDnd.js"},{"name":"../../../common/iterator.js","loc":{"line":28,"column":46},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/iterator.js"},{"name":"../../../browser/ui/scrollbar/scrollableElement.js","loc":{"line":29,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js"},{"name":"./treeViewModel.js","loc":{"line":30,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeViewModel.js"},{"name":"./tree.js","loc":{"line":31,"column":19},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/tree.js"},{"name":"../../../common/event.js","loc":{"line":32,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../../browser/dnd.js","loc":{"line":33,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dnd.js"},{"name":"./treeDefaults.js","loc":{"line":34,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeDefaults.js"},{"name":"../../../common/async.js","loc":{"line":35,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/parts/tree/browser/treeView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.TreeView=exports.ViewItem=exports.RowCache=void 0;var e=y(require(\"../../../common/platform.js\")),t=y(require(\"../../../browser/browser.js\")),o=y(require(\"../../../common/lifecycle.js\")),r=y(require(\"../../../browser/dom.js\")),n=y(require(\"../../../common/diff/diff.js\")),i=y(require(\"../../../browser/touch.js\")),s=y(require(\"../../../common/strings.js\")),a=y(require(\"../../../browser/mouseEvent.js\")),l=y(require(\"../../../browser/keyboardEvent.js\")),h=y(require(\"./treeDnd.js\")),d=require(\"../../../common/iterator.js\"),c=require(\"../../../browser/ui/scrollbar/scrollableElement.js\"),p=require(\"./treeViewModel.js\"),u=y(require(\"./tree.js\")),m=require(\"../../../common/event.js\"),g=require(\"../../../browser/dnd.js\"),f=require(\"./treeDefaults.js\"),D=require(\"../../../common/async.js\");function v(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return v=function(){return e},e}function y(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=v();if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=r?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(o,n,i):o[n]=e[n]}return o.default=e,t&&t.set(e,o),o}var w=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();function b(e){try{e.parentElement.removeChild(e)}catch(t){}}var x=function(){function e(e){this.context=e,this._cache={\"\":[]}}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var o=document.createElement(\"div\");o.className=\"content\";var r=document.createElement(\"div\");r.appendChild(o);var n=null;try{n=this.context.renderer.renderTemplate(this.context.tree,e,o)}catch(i){console.error(\"Tree usage error: exception while rendering template\"),console.error(i)}t={element:r,templateId:e,templateData:n}}return t},e.prototype.release=function(e,t){b(t.element),this.cache(e).push(t)},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(o){e.context.renderer.disposeTemplate(e.context.tree,t,o.templateData),o.element=null,o.templateData=null}),delete e._cache[t]})},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null},e}();exports.RowCache=x;var I=function(){function e(e,t){var r=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=o.Disposable.None,this._draggable=!1,this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return r._styles[e]=!0}),t.isExpanded()&&this.addClass(\"expanded\")}return Object.defineProperty(e.prototype,\"expanded\",{set:function(e){e?this.addClass(\"expanded\"):this.removeClass(\"expanded\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"loading\",{set:function(e){e?this.addClass(\"codicon-loading\"):this.removeClass(\"codicon-loading\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"draggable\",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"dropTarget\",{set:function(e){e?this.addClass(\"drop-target\"):this.removeClass(\"drop-target\")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"element\",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,\"templateId\",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var o=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=[\"monaco-tree-row\"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push(\"has-children\"),this.element.className=n.join(\" \"),this.element.draggable=this.draggable,this.element.style.height=this.height+\"px\",this.element.setAttribute(\"role\",\"treeitem\");var i=this.context.accessibilityProvider,a=i.getAriaLabel(this.context.tree,this.model.getElement());if(a&&this.element.setAttribute(\"aria-label\",a),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute(\"aria-setsize\",i.getSetSize()),this.element.setAttribute(\"aria-posinset\",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait(\"focused\")){var l=s.safeBtoa(this.model.id);this.element.setAttribute(\"aria-selected\",\"true\"),this.element.setAttribute(\"id\",l)}else this.element.setAttribute(\"aria-selected\",\"false\"),this.element.removeAttribute(\"id\");this.model.hasChildren()?this.element.setAttribute(\"aria-expanded\",String(!!this._styles.expanded)):this.element.removeAttribute(\"aria-expanded\"),this.element.setAttribute(\"aria-level\",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+\"px\":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+\"px\",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+\"px\");var h=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(h!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),h?(this.uri=h,this.draggable=!0,this.unbindDragStart=r.addDisposableListener(this.element,\"dragstart\",function(e){o.onDragStart(e)})):this.uri=null),!e&&this.element){var d=0;if(this.context.horizontalScrolling){var c=window.getComputedStyle(this.element);d=parseFloat(c.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width=t.isFirefox?\"-moz-fit-content\":\"fit-content\");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(p){console.error(\"Tree usage error: exception while rendering element\"),console.error(p)}this.context.horizontalScrolling&&(this.width=r.getContentWidth(this.element)+d,this.element.style.width=\"\")}}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[E.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(o){console.warn(\"Failed to locate previous tree element\"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart.dispose(),this.uri=null,this.element[E.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null},e}();exports.ViewItem=I;var T=function(e){function t(t,o,r){var n=e.call(this,t,o)||this;return n.row={element:r,templateData:null,templateId:null},n}return w(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=[\"monaco-tree-wrapper\"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push(\"has-children\"),this.element.className=e.join(\" \")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(I);function S(e,t){return!e&&!t||!(!e||!t)&&(e.accept===t.accept&&(e.bubble===t.bubble&&e.effect===t.effect))}var E=function(p){function v(e,n){var s=p.call(this)||this;s.model=null,s.lastPointerType=\"\",s.lastClickTimeStamp=0,s.contentWidthUpdateDelayer=new D.Delayer(50),s.isRefreshing=!1,s.refreshingPreviousChildrenIds={},s.currentDragAndDropData=null,s.currentDropTarget=null,s.currentDropTargets=null,s.currentDropDisposable=o.Disposable.None,s.gestureDisposable=o.Disposable.None,s.dragAndDropScrollInterval=null,s.dragAndDropScrollTimeout=null,s.dragAndDropMouseY=null,s.highlightedItemWasDraggable=!1,s.onHiddenScrollTop=null,s._onDOMFocus=new m.Emitter,s.onDOMFocus=s._onDOMFocus.event,s._onDOMBlur=new m.Emitter,s._onDidScroll=new m.Emitter,v.counter++,s.instance=v.counter;var a=void 0===e.options.horizontalScrollMode?2:e.options.horizontalScrollMode;s.horizontalScrolling=2!==a,s.context={dataSource:e.dataSource,renderer:e.renderer,controller:e.controller,dnd:e.dnd,filter:e.filter,sorter:e.sorter,tree:e.tree,accessibilityProvider:e.accessibilityProvider,options:e.options,cache:new x(e),horizontalScrolling:s.horizontalScrolling},s.modelListeners=[],s.viewListeners=[],s.items={},s.domNode=document.createElement(\"div\"),s.domNode.className=\"monaco-tree no-focused-item monaco-tree-instance-\"+s.instance,s.domNode.tabIndex=e.options.preventRootFocus?-1:0,s.styleElement=r.createStyleSheet(s.domNode),s.treeStyler=e.styler||new f.DefaultTreestyler(s.styleElement,\"monaco-tree-instance-\"+s.instance),s.domNode.setAttribute(\"role\",\"tree\"),s.context.options.ariaLabel&&s.domNode.setAttribute(\"aria-label\",s.context.options.ariaLabel),s.context.options.alwaysFocused&&r.addClass(s.domNode,\"focused\"),s.context.options.paddingOnRow||r.addClass(s.domNode,\"no-row-padding\"),s.wrapper=document.createElement(\"div\"),s.wrapper.className=\"monaco-tree-wrapper\",s.scrollableElement=new c.ScrollableElement(s.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:a,vertical:void 0!==e.options.verticalScrollMode?e.options.verticalScrollMode:1,useShadows:e.options.useShadows}),s.scrollableElement.onScroll(function(e){s.render(e.scrollTop,e.height,e.scrollLeft,e.width,e.scrollWidth),s._onDidScroll.fire()}),t.isIE?(s.wrapper.style.msTouchAction=\"none\",s.wrapper.style.msContentZooming=\"none\"):s.gestureDisposable=i.Gesture.addTarget(s.wrapper),s.rowsContainer=document.createElement(\"div\"),s.rowsContainer.className=\"monaco-tree-rows\",e.options.showTwistie&&(s.rowsContainer.className+=\" show-twisties\");var l=r.trackFocus(s.domNode);return s.viewListeners.push(l.onDidFocus(function(){return s.onFocus()})),s.viewListeners.push(l.onDidBlur(function(){return s.onBlur()})),s.viewListeners.push(l),s.viewListeners.push(r.addDisposableListener(s.domNode,\"keydown\",function(e){return s.onKeyDown(e)})),s.viewListeners.push(r.addDisposableListener(s.domNode,\"keyup\",function(e){return s.onKeyUp(e)})),s.viewListeners.push(r.addDisposableListener(s.domNode,\"mousedown\",function(e){return s.onMouseDown(e)})),s.viewListeners.push(r.addDisposableListener(s.domNode,\"mouseup\",function(e){return s.onMouseUp(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,\"auxclick\",function(e){e&&1===e.button&&s.onMouseMiddleClick(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,\"click\",function(e){return s.onClick(e)})),s.viewListeners.push(r.addDisposableListener(s.domNode,\"contextmenu\",function(e){return s.onContextMenu(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,i.EventType.Tap,function(e){return s.onTap(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,i.EventType.Change,function(e){return s.onTouchChange(e)})),t.isIE&&(s.viewListeners.push(r.addDisposableListener(s.wrapper,\"MSPointerDown\",function(e){return s.onMsPointerDown(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,\"MSGestureTap\",function(e){return s.onMsGestureTap(e)})),s.viewListeners.push(r.addDisposableThrottledListener(s.wrapper,\"MSGestureChange\",function(e){return s.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var o={translationY:t.translationY,translationX:t.translationX};return e&&(o.translationY+=e.translationY,o.translationX+=e.translationX),o}))),s.viewListeners.push(r.addDisposableListener(window,\"dragover\",function(e){return s.onDragOver(e)})),s.viewListeners.push(r.addDisposableListener(s.wrapper,\"drop\",function(e){return s.onDrop(e)})),s.viewListeners.push(r.addDisposableListener(window,\"dragend\",function(e){return s.onDragEnd(e)})),s.viewListeners.push(r.addDisposableListener(window,\"dragleave\",function(e){return s.onDragOver(e)})),s.wrapper.appendChild(s.rowsContainer),s.domNode.appendChild(s.scrollableElement.getDomNode()),n.appendChild(s.domNode),s.lastRenderTop=0,s.lastRenderHeight=0,s.didJustPressContextMenuKey=!1,s.currentDropTarget=null,s.currentDropTargets=[],s.shouldInvalidateDropReaction=!1,s.dragAndDropScrollInterval=null,s.dragAndDropScrollTimeout=null,s.onRowsChanged(),s.layout(),s.setupMSGesture(),s.applyStyles(e.options),s}return w(v,p),v.prototype.applyStyles=function(e){this.treeStyler.style(e)},v.prototype.createViewItem=function(e){return new I(this.context,e)},v.prototype.getHTMLElement=function(){return this.domNode},v.prototype.focus=function(){this.domNode.focus()},v.prototype.isFocused=function(){return document.activeElement===this.domNode},v.prototype.blur=function(){this.domNode.blur()},v.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},v.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},v.prototype.layout=function(e,t){this.isTreeVisible()&&(this.viewHeight=e||r.getContentHeight(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=t||r.getContentWidth(this.wrapper)))},v.prototype.render=function(e,t,o,r,n){var i,s,a=e,l=e+t,h=this.lastRenderTop+this.lastRenderHeight;for(i=this.indexAfter(l)-1,s=this.indexAt(Math.max(h,a));i>=s;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(l))-1,s=this.indexAt(a);i>=s;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=this.indexAt(this.lastRenderTop),s=Math.min(this.indexAt(a),this.indexAfter(h));i<s;i++)this.removeItemFromDOM(this.itemAtIndex(i));for(i=Math.max(this.indexAfter(l),this.indexAt(this.lastRenderTop)),s=this.indexAfter(h);i<s;i++)this.removeItemFromDOM(this.itemAtIndex(i));var d=this.itemAtIndex(this.indexAt(a));d&&(this.rowsContainer.style.top=d.top-a+\"px\"),this.horizontalScrolling&&(this.rowsContainer.style.left=-o+\"px\",this.rowsContainer.style.width=Math.max(n,r)+\"px\"),this.lastRenderTop=a,this.lastRenderHeight=l-a},v.prototype.setModel=function(e){this.releaseModel(),this.model=e,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},v.prototype.onRefreshing=function(){this.isRefreshing=!0},v.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},v.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e,this.updateScrollWidth())},v.prototype.updateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger(function(){for(var t=0,o=0,r=Object.keys(e.items);o<r.length;o++){var n=r[o];t=Math.max(t,e.items[n].width)}e.scrollWidth=t+10})},v.prototype.focusNextPage=function(e){var t=this,o=this.indexAt(this.scrollTop+this.viewHeight);o=0===o?0:o-1;var r=this.itemAtIndex(o).model.getElement();if(this.model.getFocus()!==r)this.model.setFocus(r,e);else{var n=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==n&&setTimeout(function(){t.focusNextPage(e)},0)}},v.prototype.focusPreviousPage=function(e){var t,o=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var r=this.itemAtIndex(t).model.getElement();if(this.model.getFocus()!==r)this.model.setFocus(r,e);else{var n=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==n&&setTimeout(function(){o.focusPreviousPage(e)},0)}},Object.defineProperty(v.prototype,\"viewHeight\",{get:function(){return this.scrollableElement.getScrollDimensions().height},set:function(e){this.scrollableElement.setScrollDimensions({height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,\"scrollHeight\",{set:function(e){e+=this.horizontalScrolling?10:0,this.scrollableElement.setScrollDimensions({scrollHeight:e})},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,\"viewWidth\",{get:function(){return this.scrollableElement.getScrollDimensions().width},set:function(e){this.scrollableElement.setScrollDimensions({width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,\"scrollWidth\",{set:function(e){this.scrollableElement.setScrollDimensions({scrollWidth:e})},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,\"scrollTop\",{get:function(){return this.scrollableElement.getScrollPosition().scrollTop},set:function(e){var t=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight:t}),this.scrollableElement.setScrollPosition({scrollTop:e})},enumerable:!0,configurable:!0}),v.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new d.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},v.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new T(this.context,e.item,this.wrapper)},v.prototype.onItemChildrenRefreshing=function(e){var t=e.item,o=this.items[t.id];if(o&&this.context.options.showLoading&&(o.loadingTimer=setTimeout(function(){o.loadingTimer=0,o.loading=!0},v.LOADING_DECORATION_DELAY)),!e.isNested){for(var r=[],n=t.getNavigator(),i=void 0;i=n.next();)r.push(i.id);this.refreshingPreviousChildrenIds[t.id]=r}},v.prototype.onItemChildrenRefreshed=function(e){var t=this,o=e.item,r=this.items[o.id];if(r&&(r.loadingTimer&&(clearTimeout(r.loadingTimer),r.loadingTimer=0),r.loading=!1),!e.isNested){for(var i=this.refreshingPreviousChildrenIds[o.id],s=[],a=o.getNavigator(),l=void 0;l=a.next();)s.push(l);var h=Math.abs(i.length-s.length)>1e3,c=[],p=!1;if(!h)p=(c=new n.LcsDiff({getElements:function(){return i}},{getElements:function(){return s.map(function(e){return e.id})}},null).ComputeDiff(!1).changes).some(function(e){if(e.modifiedLength>0)for(var o=e.modifiedStart,r=e.modifiedStart+e.modifiedLength;o<r;o++)if(t.items.hasOwnProperty(s[o].id))return!0;return!1});if(!h&&!p&&c.length<50)for(var u=0,m=c;u<m.length;u++){var g=m[u];if(g.originalLength>0&&this.onRemoveItems(new d.ArrayIterator(i,g.originalStart,g.originalStart+g.originalLength)),g.modifiedLength>0){var f=s[g.modifiedStart-1]||o;f=f.getDepth()>0?f:null,this.onInsertItems(new d.ArrayIterator(s,g.modifiedStart,g.modifiedStart+g.modifiedLength),f?f.id:null)}}else(h||c.length)&&(this.onRemoveItems(new d.ArrayIterator(i)),this.onInsertItems(new d.ArrayIterator(s),o.getDepth()>0?o.id:null));(h||c.length)&&this.onRowsChanged()}},v.prototype.onItemRefresh=function(e){this.onItemsRefresh([e])},v.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},v.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},v.prototype.onItemExpanded=function(e){var t=e.item,o=this.items[t.id];if(o){o.expanded=!0;var r=this.onInsertItems(t.getNavigator(),t.id)||0,n=this.scrollTop;o.top+o.height<=this.scrollTop&&(n+=r),this.onRowsChanged(n)}},v.prototype.onItemCollapsing=function(e){var t=e.item,o=this.items[t.id];o&&(o.expanded=!1,this.onRemoveItems(new d.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},v.prototype.onItemReveal=function(e){var t=e.item,o=e.relativeTop,r=this.items[t.id];if(r)if(null!==o){o=(o=o<0?0:o)>1?1:o;var n=r.height-this.viewHeight;this.scrollTop=n*o+r.top}else{var i=r.top+r.height,s=this.scrollTop+this.viewHeight;r.top<this.scrollTop?this.scrollTop=r.top:i>=s&&(this.scrollTop=i-this.viewHeight)}},v.prototype.onItemAddTrait=function(e){var t=e.item,o=e.trait,n=this.items[t.id];n&&n.addClass(o),\"highlighted\"===o&&(r.addClass(this.domNode,o),n&&(this.highlightedItemWasDraggable=!!n.draggable,n.draggable&&(n.draggable=!1)))},v.prototype.onItemRemoveTrait=function(e){var t=e.item,o=e.trait,n=this.items[t.id];n&&n.removeClass(o),\"highlighted\"===o&&(r.removeClass(this.domNode,o),this.highlightedItemWasDraggable&&(n.draggable=!0),this.highlightedItemWasDraggable=!1)},v.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();r.toggleClass(this.domNode,\"no-focused-item\",!e),e?this.domNode.setAttribute(\"aria-activedescendant\",s.safeBtoa(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute(\"aria-activedescendant\")},v.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(o){t.onDragStart(e,o)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},v.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},v.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),delete this.items[e.id]},v.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},v.prototype.onClick=function(e){if(!this.lastPointerType||\"mouse\"===this.lastPointerType){var o=new a.StandardMouseEvent(e),r=this.getItemAround(o.target);r&&(t.isIE&&Date.now()-this.lastClickTimeStamp<300&&(o.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,r.model.getElement(),o))}},v.prototype.onMouseMiddleClick=function(e){if(this.context.controller.onMouseMiddleClick){var t=new a.StandardMouseEvent(e),o=this.getItemAround(t.target);o&&this.context.controller.onMouseMiddleClick(this.context.tree,o.model.getElement(),t)}},v.prototype.onMouseDown=function(t){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||\"mouse\"===this.lastPointerType)){var o=new a.StandardMouseEvent(t);if(!(o.ctrlKey&&e.isNative&&e.isMacintosh)){var r=this.getItemAround(o.target);r&&this.context.controller.onMouseDown(this.context.tree,r.model.getElement(),o)}}},v.prototype.onMouseUp=function(t){if(this.context.controller.onMouseUp&&(!this.lastPointerType||\"mouse\"===this.lastPointerType)){var o=new a.StandardMouseEvent(t);if(!(o.ctrlKey&&e.isNative&&e.isMacintosh)){var r=this.getItemAround(o.target);r&&this.context.controller.onMouseUp(this.context.tree,r.model.getElement(),o)}}},v.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},v.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},v.prototype.onContextMenu=function(e){var t,o;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var n=new l.StandardKeyboardEvent(e),i=void 0;if(o=this.model.getFocus()){var s=this.context.dataSource.getId(this.context.tree,o),h=this.items[s];i=r.getDomNodePagePosition(h.element)}else o=this.model.getInput(),i=r.getDomNodePagePosition(this.inputItem.element);t=new u.KeyboardContextMenuEvent(i.left+i.width,i.top,n)}else{var d=new a.StandardMouseEvent(e),c=this.getItemAround(d.target);if(!c)return;o=c.model.getElement(),t=new u.MouseContextMenuEvent(d)}this.context.controller.onContextMenu(this.context.tree,o,t)},v.prototype.onKeyDown=function(e){var t=new l.StandardKeyboardEvent(e);this.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode,t.target&&t.target.tagName&&\"input\"===t.target.tagName.toLowerCase()||(this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,t))},v.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new l.StandardKeyboardEvent(e))},v.prototype.onDragStart=function(e,t){if(!this.model.getHighlight()){var o,r=e.model.getElement(),n=this.model.getSelection();if(o=n.indexOf(r)>-1?n:[r],t.dataTransfer.effectAllowed=\"copyMove\",t.dataTransfer.setData(g.DataTransfers.RESOURCES,JSON.stringify([e.uri])),t.dataTransfer.setDragImage){var i=void 0;i=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,o):String(o.length);var s=document.createElement(\"div\");s.className=\"monaco-tree-drag-image\",s.textContent=i,document.body.appendChild(s),t.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new h.ElementsDragAndDropData(o),g.StaticDND.CurrentDragAndDropData=new h.ExternalElementsDragAndDropData(o),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new a.DragMouseEvent(t))}},v.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=r.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(null!==e.dragAndDropMouseY){var o=e.dragAndDropMouseY-t,r=0,n=e.viewHeight-35;o<35?r=Math.max(-14,.2*(o-35)):o>n&&(r=Math.min(14,.2*(o-n))),e.scrollTop+=r}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},v.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},v.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},v.prototype.onDragOver=function(e){var t=this;e.preventDefault();var n,i=new a.DragMouseEvent(e),s=this.getItemAround(i.target);if(!s||0===i.posx&&0===i.posy&&i.browserEvent.type===r.EventType.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(g.StaticDND.CurrentDragAndDropData)this.currentDragAndDropData=g.StaticDND.CurrentDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new h.DesktopDragAndDropData}this.currentDragAndDropData.update(i.browserEvent.dataTransfer);var l,d=s.model;do{if(n=d?d.getElement():this.model.getInput(),!(l=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,n,i))||1!==l.bubble)break;d=d&&d.parent}while(d);if(!d)return this.currentDropElement=null,!1;var c=l&&l.accept;c?(this.currentDropElement=d.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=0===l.effect?\"copy\":\"move\"):this.currentDropElement=null;var p=d.id===this.inputItem.id?this.inputItem:this.items[d.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==p||!S(this.currentDropElementReaction,l))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=p,this.currentDropElementReaction=l,c)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),0===l.bubble)for(var u=d.getNavigator(),m=void 0;m=u.next();)(s=this.items[m.id])&&(s.dropTarget=!0,this.currentDropTargets.push(s));if(l.autoExpand){var f=(0,D.timeout)(500);this.currentDropDisposable=o.toDisposable(function(){return f.cancel()}),f.then(function(){return t.context.tree.expand(t.currentDropElement)}).then(function(){return t.shouldInvalidateDropReaction=!0})}}return!0},v.prototype.onDrop=function(e){if(this.currentDropElement){var t=new a.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},v.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,g.StaticDND.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},v.prototype.onFocus=function(){this.context.options.alwaysFocused||r.addClass(this.domNode,\"focused\"),this._onDOMFocus.fire()},v.prototype.onBlur=function(){this.context.options.alwaysFocused||r.removeClass(this.domNode,\"focused\"),this.domNode.removeAttribute(\"aria-activedescendant\"),this._onDOMBlur.fire()},v.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;t!==(e.MSPOINTER_TYPE_MOUSE||\"mouse\")?t===(e.MSPOINTER_TYPE_TOUCH||\"touch\")&&(this.lastPointerType=\"touch\",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)):this.lastPointerType=\"mouse\"}},v.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},v.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},v.prototype.insertItemInDOM=function(e){var t=null,o=this.itemAfter(e);o&&o.element&&(t=o.element),e.insertInDOM(this.rowsContainer,t)},v.prototype.removeItemFromDOM=function(e){e&&e.removeFromDOM()},v.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},v.prototype.getItemAround=function(e){var t=this.inputItem,o=e;do{if(o[v.BINDING]&&(t=o[v.BINDING]),o===this.wrapper||o===this.domNode)return t;if(o===this.scrollableElement.getDomNode()||o===document.body)return}while(o=o.parentElement)},v.prototype.releaseModel=function(){this.model&&(this.modelListeners=o.dispose(this.modelListeners),this.model=null)},v.prototype.dispose=function(){var e=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=o.dispose(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach(function(t){return e.items[t].removeFromDOM()}),this.context.cache&&this.context.cache.dispose(),this.gestureDisposable.dispose(),p.prototype.dispose.call(this)},v.BINDING=\"monaco-tree-row\",v.LOADING_DECORATION_DELAY=800,v.counter=0,v}(p.HeightMap);exports.TreeView=E;"},"sourceMaps":null,"error":null,"hash":"0a7e6d9567a8e3b3905ee385029e22fa","cacheData":{"env":{}}}