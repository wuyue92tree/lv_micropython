{"id":"U0zA","dependencies":[{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/package.json","includedInParent":true,"mtime":1605999081707},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/.browserslistrc","includedInParent":true,"mtime":1605999081703},{"name":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/package.json","includedInParent":true,"mtime":1605999259245},{"name":"../../../common/objects.js","loc":{"line":18,"column":29},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/objects.js"},{"name":"../../../common/lifecycle.js","loc":{"line":19,"column":67},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/lifecycle.js"},{"name":"../../touch.js","loc":{"line":20,"column":53},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/touch.js"},{"name":"../../dom.js","loc":{"line":21,"column":21},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dom.js"},{"name":"../../../common/event.js","loc":{"line":22,"column":31},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/event.js"},{"name":"../../event.js","loc":{"line":23,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/event.js"},{"name":"../scrollbar/scrollableElement.js","loc":{"line":24,"column":34},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/scrollbar/scrollableElement.js"},{"name":"./rangeMap.js","loc":{"line":25,"column":32},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/rangeMap.js"},{"name":"./rowCache.js","loc":{"line":26,"column":25},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js"},{"name":"../../../common/decorators.js","loc":{"line":27,"column":24},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/decorators.js"},{"name":"../../../common/range.js","loc":{"line":28,"column":22},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/range.js"},{"name":"../../../common/arrays.js","loc":{"line":29,"column":33},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/arrays.js"},{"name":"../../dnd.js","loc":{"line":30,"column":41},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/dnd.js"},{"name":"../../../common/async.js","loc":{"line":31,"column":43},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/common/async.js"},{"name":"../../browser.js","loc":{"line":32,"column":26},"parent":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/ui/list/listView.js","resolved":"/home/runner/work/lv_micropython/lv_micropython/ports/javascript/node_modules/monaco-editor/esm/vs/base/browser/browser.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ListView=exports.DesktopDragAndDropData=exports.ExternalElementsDragAndDropData=exports.ElementsDragAndDropData=void 0;var e=require(\"../../../common/objects.js\"),t=require(\"../../../common/lifecycle.js\"),r=require(\"../../touch.js\"),o=f(require(\"../../dom.js\")),i=require(\"../../../common/event.js\"),n=require(\"../../event.js\"),s=require(\"../scrollbar/scrollableElement.js\"),a=require(\"./rangeMap.js\"),l=require(\"./rowCache.js\"),d=require(\"../../../common/decorators.js\"),h=require(\"../../../common/range.js\"),p=require(\"../../../common/arrays.js\"),c=require(\"../../dnd.js\"),u=require(\"../../../common/async.js\"),m=require(\"../../browser.js\");function g(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=o?Object.getOwnPropertyDescriptor(e,i):null;n&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=e[i]}return r.default=e,t&&t.set(e,r),r}var v=function(e,t,r,o){var i,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,r,s):i(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},D=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<r;t++)for(var n=arguments[t],s=0,a=n.length;s<a;s++,i++)o[i]=n[s];return o},b={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(e){return[e]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},y=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();exports.ElementsDragAndDropData=y;var w=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}();exports.ExternalElementsDragAndDropData=w;var E=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){var t;if(e.types&&(t=this.types).splice.apply(t,D([0,this.types.length],e.types)),e.files){this.files.splice(0,this.files.length);for(var r=0;r<e.files.length;r++){var o=e.files.item(r);o&&(o.size||o.type)&&this.files.push(o)}}},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();function S(e,t){return Array.isArray(e)&&Array.isArray(t)?(0,p.equals)(e,t):e===t}exports.DesktopDragAndDropData=E;var N=function(){function g(d,h,p,c){var m=this;if(void 0===c&&(c=b),this.virtualDelegate=h,this.domId=\"list_id_\"+ ++g.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=t.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=t.Disposable.None,this.onDragLeaveTimeout=t.Disposable.None,this.disposables=new t.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,c.horizontalScrolling&&c.supportDynamicHeights)throw new Error(\"Horizontal scrolling and dynamic heights not supported simultaneously\");this.items=[],this.itemId=0,this.rangeMap=new a.RangeMap;for(var f=0,v=p;f<v.length;f++){var D=v[f];this.renderers.set(D.templateId,D)}this.cache=this.disposables.add(new l.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement(\"div\"),this.domNode.className=\"monaco-list\",o.addClass(this.domNode,this.domId),this.domNode.tabIndex=0,o.toggleClass(this.domNode,\"mouse-support\",\"boolean\"!=typeof c.mouseSupport||c.mouseSupport),this.horizontalScrolling=(0,e.getOrDefault)(c,function(e){return e.horizontalScrolling},b.horizontalScrolling),o.toggleClass(this.domNode,\"horizontal-scrolling\",this.horizontalScrolling),this.additionalScrollHeight=void 0===c.additionalScrollHeight?0:c.additionalScrollHeight,this.ariaProvider=c.ariaProvider||{getSetSize:function(e,t,r){return r},getPosInSet:function(e,t){return t+1}},this.rowsContainer=document.createElement(\"div\"),this.rowsContainer.className=\"monaco-list-rows\",this.rowsContainer.style.transform=\"translate3d(0px, 0px, 0px)\",this.disposables.add(r.Gesture.addTarget(this.rowsContainer)),this.scrollableElement=this.disposables.add(new s.ScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:(0,e.getOrDefault)(c,function(e){return e.verticalScrollMode},b.verticalScrollMode),useShadows:(0,e.getOrDefault)(c,function(e){return e.useShadows},b.useShadows)})),this.domNode.appendChild(this.scrollableElement.getDomNode()),d.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),(0,n.domEvent)(this.rowsContainer,r.EventType.Change)(this.onTouchChange,this,this.disposables),(0,n.domEvent)(this.scrollableElement.getDomNode(),\"scroll\")(function(e){return e.target.scrollTop=0},null,this.disposables),i.Event.map((0,n.domEvent)(this.domNode,\"dragover\"),function(e){return m.toDragEvent(e)})(this.onDragOver,this,this.disposables),i.Event.map((0,n.domEvent)(this.domNode,\"drop\"),function(e){return m.toDragEvent(e)})(this.onDrop,this,this.disposables),(0,n.domEvent)(this.domNode,\"dragleave\")(this.onDragLeave,this,this.disposables),(0,n.domEvent)(window,\"dragend\")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=(0,e.getOrDefault)(c,function(e){return e.setRowLineHeight},b.setRowLineHeight),this.supportDynamicHeights=(0,e.getOrDefault)(c,function(e){return e.supportDynamicHeights},b.supportDynamicHeights),this.dnd=(0,e.getOrDefault)(c,function(e){return e.dnd},b.dnd),this.layout()}return Object.defineProperty(g.prototype,\"contentHeight\",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),g.prototype.splice=function(e,t,r){if(void 0===r&&(r=[]),this.splicing)throw new Error(\"Can't run recursive splices.\");this.splicing=!0;try{return this._splice(e,t,r)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},g.prototype._splice=function(e,r,o){var i,n=this;void 0===o&&(o=[]);for(var s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),l={start:e,end:e+r},d=h.Range.intersect(s,l),p=d.start;p<d.end;p++)this.removeItemFromDOM(p);var c,u={start:e+r,end:this.items.length},m=h.Range.intersect(u,s),g=h.Range.relativeComplement(u,s),f=o.map(function(e){return{id:String(n.itemId++),element:e,templateId:n.virtualDelegate.getTemplateId(e),size:n.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!n.virtualDelegate.hasDynamicHeight&&n.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:t.Disposable.None}});0===e&&r>=this.items.length?(this.rangeMap=new a.RangeMap,this.rangeMap.splice(0,0,f),this.items=f,c=[]):(this.rangeMap.splice(e,r,f),c=(i=this.items).splice.apply(i,D([e,r],f)));var v=o.length-r,b=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),y=(0,a.shift)(m,v),w=h.Range.intersect(b,y);for(p=w.start;p<w.end;p++)this.updateItemInDOM(this.items[p],p);for(var E=0,S=h.Range.relativeComplement(y,b);E<S.length;E++)for(p=(A=S[E]).start;p<A.end;p++)this.removeItemFromDOM(p);for(var N=g.map(function(e){return(0,a.shift)(e,v)}),T={start:e,end:e+o.length},C=D([T],N).map(function(e){return h.Range.intersect(b,e)}),O=this.getNextToLastElement(C),M=0,H=C;M<H.length;M++){var A;for(p=(A=H[M]).start;p<A.end;p++)this.insertItemInDOM(p,O)}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),c.map(function(e){return e.element})},g.prototype.eventuallyUpdateScrollDimensions=function(){var e=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+\"px\",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=o.scheduleAtNextAnimationFrame(function(){e.scrollableElement.setScrollDimensions({scrollHeight:e.scrollHeight}),e.updateScrollWidth(),e.scrollableElementUpdateDisposable=null}))},g.prototype.eventuallyUpdateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger(function(){return e.updateScrollWidth()})},g.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){0===this.items.length&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var e=0,t=0,r=this.items;t<r.length;t++){var o=r[t];void 0!==o.width&&(e=Math.max(e,o.width))}this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e+10})}},g.prototype.rerender=function(){if(this.supportDynamicHeights){for(var e=0,t=this.items;e<t.length;e++){t[e].lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(g.prototype,\"length\",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"renderHeight\",{get:function(){return this.scrollableElement.getScrollDimensions().height},enumerable:!0,configurable:!0}),g.prototype.element=function(e){return this.items[e].element},g.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},g.prototype.elementHeight=function(e){return this.items[e].size},g.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},g.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},g.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},g.prototype.layout=function(e,t){var r={height:\"number\"==typeof e?e:o.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,r.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(r),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:\"number\"==typeof t?t:o.getContentWidth(this.domNode)}))},g.prototype.render=function(e,t,r,o){for(var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=this.getRenderRange(e,t),s=h.Range.relativeComplement(n,i),a=h.Range.relativeComplement(i,n),l=this.getNextToLastElement(s),d=0,p=s;d<p.length;d++)for(var c=(g=p[d]).start;c<g.end;c++)this.insertItemInDOM(c,l);for(var u=0,m=a;u<m.length;u++){var g;for(c=(g=m[u]).start;c<g.end;c++)this.removeItemFromDOM(c)}this.rowsContainer.style.left=\"-\"+r+\"px\",this.rowsContainer.style.top=\"-\"+e+\"px\",this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(o,this.renderWidth)+\"px\"),this.lastRenderTop=e,this.lastRenderHeight=t},g.prototype.insertItemInDOM=function(e,t){var r=this,o=this.items[e];if(!o.row){o.row=this.cache.alloc(o.templateId);var i=this.ariaProvider.getRole?this.ariaProvider.getRole(o.element):\"treeitem\";o.row.domNode.setAttribute(\"role\",i);var s=this.ariaProvider.isChecked?this.ariaProvider.isChecked(o.element):void 0;void 0!==s&&o.row.domNode.setAttribute(\"aria-checked\",String(s))}o.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(o.row.domNode,t):this.rowsContainer.appendChild(o.row.domNode)),this.updateItemInDOM(o,e);var a=this.renderers.get(o.templateId);if(!a)throw new Error(\"No renderer found for template id \"+o.templateId);a&&a.renderElement(o.element,e,o.row.templateData,o.size);var l=this.dnd.getDragURI(o.element);if(o.dragStartDisposable.dispose(),o.row.domNode.draggable=!!l,l){var d=(0,n.domEvent)(o.row.domNode,\"dragstart\");o.dragStartDisposable=d(function(e){return r.onDragStart(o.element,l,e)})}this.horizontalScrolling&&(this.measureItemWidth(o),this.eventuallyUpdateScrollWidth())},g.prototype.measureItemWidth=function(e){if(e.row&&e.row.domNode){e.row.domNode.style.width=m.isFirefox?\"-moz-fit-content\":\"fit-content\",e.width=o.getContentWidth(e.row.domNode);var t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=\"\"}},g.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+\"px\",e.row.domNode.style.height=e.size+\"px\",this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+\"px\"),e.row.domNode.setAttribute(\"data-index\",\"\"+t),e.row.domNode.setAttribute(\"data-last-element\",t===this.length-1?\"true\":\"false\"),e.row.domNode.setAttribute(\"aria-setsize\",String(this.ariaProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute(\"aria-posinset\",String(this.ariaProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute(\"id\",this.getElementDomId(t)),o.toggleClass(e.row.domNode,\"drop-target\",e.dropTarget)},g.prototype.removeItemFromDOM=function(e){var t=this.items[e];t.dragStartDisposable.dispose();var r=this.renderers.get(t.templateId);r&&r.disposeElement&&r.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},g.prototype.getScrollTop=function(){return this.scrollableElement.getScrollPosition().scrollTop},g.prototype.setScrollTop=function(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})},Object.defineProperty(g.prototype,\"scrollTop\",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"scrollHeight\",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onMouseClick\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.domNode,\"click\"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onMouseDblClick\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.domNode,\"dblclick\"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onMouseMiddleClick\",{get:function(){var e=this;return i.Event.filter(i.Event.map((0,n.domEvent)(this.domNode,\"auxclick\"),function(t){return e.toMouseEvent(t)}),function(e){return 1===e.browserEvent.button})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onMouseDown\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.domNode,\"mousedown\"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onContextMenu\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.domNode,\"contextmenu\"),function(t){return e.toMouseEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onTouchStart\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.domNode,\"touchstart\"),function(t){return e.toTouchEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,\"onTap\",{get:function(){var e=this;return i.Event.map((0,n.domEvent)(this.rowsContainer,r.EventType.Tap),function(t){return e.toGestureEvent(t)})},enumerable:!0,configurable:!0}),g.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:r&&r.element}},g.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:r&&r.element}},g.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget||null),r=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:r&&r.element}},g.prototype.toDragEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),r=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:r&&r.element}},g.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error(\"Got bad scroll event:\",e),t}},g.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},g.prototype.onDragStart=function(e,t,r){if(r.dataTransfer){var i=this.dnd.getDragElements(e);if(r.dataTransfer.effectAllowed=\"copyMove\",r.dataTransfer.setData(c.DataTransfers.RESOURCES,JSON.stringify([t])),r.dataTransfer.setDragImage){var n=void 0;this.dnd.getDragLabel&&(n=this.dnd.getDragLabel(i,r)),void 0===n&&(n=String(i.length));var s=o.$(\".monaco-drag-image\");s.textContent=n,document.body.appendChild(s),r.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragData=new y(i),c.StaticDND.CurrentDragAndDropData=new w(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,r)}},g.prototype.onDragOver=function(e){var r=this;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),c.StaticDND.CurrentDragAndDropData&&\"vscode-ui\"===c.StaticDND.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(c.StaticDND.CurrentDragAndDropData)this.currentDragData=c.StaticDND.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new E}var i,n=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=\"boolean\"==typeof n?n:n.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;if(e.browserEvent.dataTransfer.dropEffect=\"boolean\"!=typeof n&&0===n.effect?\"copy\":\"move\",i=\"boolean\"!=typeof n&&n.feedback?n.feedback:void 0===e.index?[-1]:[e.index],i=-1===(i=(0,p.distinct)(i).filter(function(e){return e>=-1&&e<r.length}).sort())[0]?[-1]:i,S(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])o.addClass(this.domNode,\"drop-target\"),o.addClass(this.rowsContainer,\"drop-target\"),this.currentDragFeedbackDisposable=(0,t.toDisposable)(function(){o.removeClass(r.domNode,\"drop-target\"),o.removeClass(r.rowsContainer,\"drop-target\")});else{for(var s=0,a=i;s<a.length;s++){var l=a[s],d=this.items[l];d.dropTarget=!0,d.row&&d.row.domNode&&o.addClass(d.row.domNode,\"drop-target\")}this.currentDragFeedbackDisposable=(0,t.toDisposable)(function(){for(var e=0,t=i;e<t.length;e++){var n=t[e],s=r.items[n];s.dropTarget=!1,s.row&&s.row.domNode&&o.removeClass(s.row.domNode,\"drop-target\")}})}return!0},g.prototype.onDragLeave=function(){var e=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(function(){return e.clearDragOverFeedback()},100)},g.prototype.onDrop=function(e){if(this.canDrop){var t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}},g.prototype.onDragEnd=function(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,c.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},g.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=t.Disposable.None},g.prototype.setupDragAndDropScrollTopAnimation=function(e){var t=this;if(!this.dragOverAnimationDisposable){var r=o.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=o.animate(this.animateDragAndDropScrollTop.bind(this,r))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(function(){t.dragOverAnimationDisposable&&(t.dragOverAnimationDisposable.dispose(),t.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY},g.prototype.animateDragAndDropScrollTop=function(e){if(void 0!==this.dragOverMouseY){var t=this.dragOverMouseY-e,r=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>r&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-r))))}},g.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},g.prototype.getItemIndexFromEventTarget=function(e){for(var t=e;t instanceof HTMLElement&&t!==this.rowsContainer;){var r=t.getAttribute(\"data-index\");if(r){var o=Number(r);if(!isNaN(o))return o}t=t.parentElement}},g.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},g.prototype._rerender=function(e,t){var r,o,i=this.getRenderRange(e,t);e===this.elementTop(i.start)?(r=i.start,o=0):i.end-i.start>1&&(r=i.start+1,o=this.elementTop(r)-e);for(var n=0;;){for(var s=this.getRenderRange(e,t),a=!1,l=s.start;l<s.end;l++){var d=this.probeDynamicHeight(l);0!==d&&this.rangeMap.splice(l,1,[this.items[l]]),n+=d,a=a||0!==d}if(!a){0!==n&&this.eventuallyUpdateScrollDimensions();for(var p=0,c=h.Range.relativeComplement(i,s);p<c.length;p++)for(l=(g=c[p]).start;l<g.end;l++)this.items[l].row&&this.removeItemFromDOM(l);for(var u=0,m=h.Range.relativeComplement(s,i);u<m.length;u++){var g;for(l=(g=m[u]).start;l<g.end;l++){var f=l+1,v=f<this.items.length?this.items[f].row:null,D=v?v.domNode:null;this.insertItemInDOM(l,D)}}for(l=s.start;l<s.end;l++)this.items[l].row&&this.updateItemInDOM(this.items[l],l);return\"number\"==typeof r&&(this.scrollTop=this.elementTop(r)-o),void this._onDidChangeContentHeight.fire(this.contentHeight)}}},g.prototype.probeDynamicHeight=function(e){var t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;var r=t.size,o=this.cache.alloc(t.templateId);o.domNode.style.height=\"\",this.rowsContainer.appendChild(o.domNode);var i=this.renderers.get(t.templateId);return i&&(i.renderElement(t.element,e,o.templateData,void 0),i.disposeElement&&i.disposeElement(t.element,e,o.templateData,void 0)),t.size=o.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(o.domNode),this.cache.release(o),t.size-r},g.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t)return null;var r=this.items[t.end];return r&&r.row?r.row.domNode:null},g.prototype.getElementDomId=function(e){return this.domId+\"_\"+e},g.prototype.dispose=function(){if(this.items){for(var e=0,r=this.items;e<r.length;e++){var o=r[e];if(o.row){var i=this.renderers.get(o.row.templateId);i&&i.disposeTemplate(o.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,t.dispose)(this.disposables)},g.InstanceCount=0,v([d.memoize],g.prototype,\"onMouseClick\",null),v([d.memoize],g.prototype,\"onMouseDblClick\",null),v([d.memoize],g.prototype,\"onMouseMiddleClick\",null),v([d.memoize],g.prototype,\"onMouseDown\",null),v([d.memoize],g.prototype,\"onContextMenu\",null),v([d.memoize],g.prototype,\"onTouchStart\",null),v([d.memoize],g.prototype,\"onTap\",null),g}();exports.ListView=N;"},"sourceMaps":null,"error":null,"hash":"91eb9be3c8ba589f4d1ffee5eec83057","cacheData":{"env":{}}}